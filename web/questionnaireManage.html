<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>调查表管理</title>
    <script src="js/jquery/2.0.0/jquery.min.js"></script>
    <script src="js/jquery/2.0.0/jquery.serializejson.js"></script>
    <script src="js/jquery/jquery.validate.min.js"></script>
    <script src="js/jquery/additional-methods.js"></script>
    <script src="js/jquery/messages_zh.js"></script>
    <link href="css/bootstrap/3.3.6/bootstrap.min.css" rel="stylesheet">
    <link href="css/bootstrap/bootstrap-datetimepicker.min.css" rel="stylesheet" media="screen">
    <link href="css/dashboard.css" rel="stylesheet">
    <link href="css/validation.css" rel="stylesheet">
    <script type="text/javascript" src="js/bootstrap/bootstrap-datetimepicker.js" charset="UTF-8"></script>
    <script src="js/bootstrap/3.3.6/bootstrap.min.js"></script>
    <script src="js/bootstrap/bootstrap-datetimepicker.zh-CN.js"></script>
    <script src="js/time.js"></script>
    <link href="css/dropdown-submenu.css" rel="stylesheet">
    <link href="css/bootstrap/navbar.css" rel="stylesheet">
    <script src="js/bootstrap/navbar.js"></script>
    <script language="javascript" src="js/bootstrap/printThis.js"></script>
</head>
<script type="text/javascript">
    var validator;
    // 校验表单信息
    $().ready(function () {
        validator = $("#model-appoint").validate({
            // 在失去焦点时验证
            onfocusout: function (element) {
                $(element).valid();
            },

            errorPlacement: function (error, element) {
                error.appendTo(element.parent());
            },
            submitHandler: function (form) { //通过之后回调
                alert('通过');
            }
        });
    });
    function setQuestionnaireList(result) {
        // 获取id为cloneTr的tr元素
        var tr = $("#cloneTr");
        tr.siblings().remove();
        $.each(result.data, function (index, item) {
            // 克隆tr，每次遍历都可以产生新的tr
            var clonedTr = tr.clone();
            clonedTr.show();
            var _index = index;
            // 循环遍历cloneTr的每一个td元素，并赋值
            clonedTr.children("td").each(function (inner_index) {
                var obj = eval(item);
                // 根据索引为部分td赋值
                switch (inner_index) {
                        // 调查表编号
                    case (1):
                        $(this).html(obj.questionnaireId);
                        break;
                        // 企业名称
                    case (2):
                        $(this).html(obj.client.companyName);
                        break;
                        // 所属行业
                    case (3):
                        $(this).html(obj.client.industry);
                        break;
                        // 主要产品
                    case (4):
                        $(this).html(obj.client.product);
                        break;
                        // 审批状态
                    case (5):
                        if (obj.applyState != null)
                            $(this).html(obj.applyState.name);
                        break;
                        // 填报人
                    case (6):
                        $(this).html(obj.author);
                        break;
                        // 填报日期
                    case (7):
                        $(this).html(getTimeStr(obj.time));
                        break;
//                    case (8):
//                        if(obj.applyState.name == "已退回"){
//                            $(this).children().eq(1).attr("class","disabled");
//                            $(this).children().eq(1).removeAttr("onclick");
//                            $(this).children().eq(2).attr("class","disabled");
//                            $(this).children().eq(2).removeAttr("onclick");
//                            $(this).children().eq(4).attr("class","disabled");
//                            $(this).children().eq(4).removeAttr("onclick");
//                            $(this).children().eq(5).attr("class","disabled");
//                            $(this).children().eq(5).removeAttr("onclick");
//                        }else if(obj.applyState.name == "已签收"){
//                            $(this).children().eq(1).attr("class","disabled");
//                            $(this).children().eq(1).removeAttr("onclick");
//                            $(this).children().eq(2).attr("class","disabled");
//                            $(this).children().eq(2).removeAttr("onclick");
//                            $(this).children().eq(3).attr("class","disabled");
//                            $(this).children().eq(3).removeAttr("onclick");
//                            $(this).children().eq(4).attr("class","disabled");
//                            $(this).children().eq(4).removeAttr("onclick");
//                            $(this).children().eq(5).attr("class","disabled");
//                            $(this).children().eq(5).removeAttr("onclick");
//                        }else{
//                            $(this).children().eq(0).attr("class","disabled");
//                            $(this).children().eq(0).removeAttr("onclick");
//                            $(this).children().eq(1).attr("class","disabled");
//                            $(this).children().eq(1).removeAttr("onclick");
//                            $(this).children().eq(2).attr("class","disabled");
//                            $(this).children().eq(2).removeAttr("onclick");
//                            $(this).children().eq(3).attr("class","disabled");
//                            $(this).children().eq(3).removeAttr("onclick");
//                            $(this).children().eq(4).attr("class","disabled");
//                            $(this).children().eq(4).removeAttr("onclick");
//                        }
//                        break;
                }
            });
            // 把克隆好的tr追加到原来的tr前面
            clonedTr.removeAttr("id");
            clonedTr.insertBefore(tr);
        });
        // 隐藏无数据的tr
        tr.hide();
    }
    function loadQuestionnaireList() {
        $.ajax({
            type: "POST",                       // 方法类型
            url: "listQuestionnaire",           // url
            cache: false,
            async : false,                      // 同步：意思是当有返回值以后才会进行后面的js程序
            dataType: "json",
            success: function (result) {
                console.log(result);
                if (result != undefined) {
                    setQuestionnaireList(result);
                } else { }
            },
            error:function (result) {
                console.log(result);
            }
        });
    }
    /**
     * 查询问卷
     */
    function searchQuestionnaire() {
        var keyword = $("#searchContent").val();
        $.ajax({
            type: "POST",                       // 方法类型
            url: "searchQuestionnaire",                  // url
            async : false,                      // 同步：意思是当有返回值以后才会进行后面的js程序
            data: {
                'keyword': keyword
            },
            dataType: "json",
            success: function (result) {
                console.log(result);
                if (result != undefined) {
                    setQuestionnaireList(result);
                } else { }
            },
            error:function (result) {
                console.log(result);
            }
        });
    }
    function allSelect() {
        var isChecked = $('#allSel').prop('checked');
        if (isChecked) $("input[name='select']").prop('checked',true);
        else $("input[name='select']").prop('checked',false);
    }
    //获取时间
    function getTimeStr(obj) {
        if (obj == null) return "";
        var year=(parseInt(obj.year)+1900).toString();
        var mouth=parseInt((obj.month)+1).toString();
        if(mouth.length!=2){
            mouth=0+mouth;
        }
        //  dataLeftCompleting(2, "0", mouth.toString()).toString();
        var  day=parseInt((obj.date)).toString();
        //ataLeftCompleting(2, "0", day.toString()).toString();
        if(day.length!=2){
            day=0+day;
        }
        var time1=year+"-"+mouth+"-"+day;
        return time1;
    }
    /**
     * 增加原材料新行
     */
    function addRawWasteNewLine() {
        var tr = $("#raw1").prev();
        // 克隆tr，每次遍历都可以产生新的tr
        var clonedTr = tr.clone();
        // 获取编号
        var id = tr.children().get(0).innerHTML;
        var num = parseInt(id);
        num++;
        clonedTr.children().get(0).innerHTML = num;
        var temp = num-2+"";
        var temp2 = num-1+"";
        clonedTr.find("input[name='rawWastes[" + temp + "].mainMaterial']").attr('name', "rawWastes[" + temp2 + "].mainMaterial");
        clonedTr.find("input[name='rawWastes[" + temp + "].auxMaterial']").attr('name', "rawWastes[" + temp2 + "].auxMaterial");
        clonedTr.find("input[name='rawWastes[" + temp + "].draginMaterial']").attr('name', "rawWastes[" + temp2 + "].draginMaterial");
        clonedTr.addClass("newLine");
        clonedTr.insertAfter(tr);
    }
    /**
     * 增加原材料新行
     */
    function addRawWasteNewLine2() {
        var tr = $("#raw2").prev();
        // 克隆tr，每次遍历都可以产生新的tr
        var clonedTr = tr.clone();
        // 获取编号
        var id = tr.children().get(0).innerHTML;
        var num = parseInt(id);
        num++;
        clonedTr.children().get(0).innerHTML = num;
        var temp = num-2+"";
        var temp2 = num-1+"";
        clonedTr.find("input[name='rawWastes[" + temp + "].mainMaterial']").attr('name', "rawWastes[" + temp2 + "].mainMaterial");
        clonedTr.find("input[name='rawWastes[" + temp + "].auxMaterial']").attr('name', "rawWastes[" + temp2 + "].auxMaterial");
        clonedTr.find("input[name='rawWastes[" + temp + "].draginMaterial']").attr('name', "rawWastes[" + temp2 + "].draginMaterial");
        clonedTr.addClass("newLine");
        clonedTr.insertAfter(tr);
    }
    /**
     * 增加处理过程新行
     */
    function addWasteProcessNewLine() {
        var tr = $("#body1").children().last();
//        console.log(tr);
        // 克隆tr，每次遍历都可以产生新的tr
        var clonedTr = tr.clone();
        // 获取编号
        var id = tr.children().get(0).innerHTML;
        var num = parseInt(id);
        num++;
        clonedTr.children().get(0).innerHTML = num;
        var temp = num-2+"";
        var temp2 = num-1+"";
        clonedTr.find("input[name='wasteProcess[" + temp + "].code']").attr('name', "wasteProcess[" + temp2 + "].code");
        clonedTr.find("input[name='wasteProcess[" + temp + "].description']").attr('name', "wasteProcess[" + temp2 + "].description");
        clonedTr.find("input[name='wasteProcess[" + temp + "].quantity']").attr('name', "wasteProcess[" + temp2 + "].quantity");
        clonedTr.find("input[name='wasteProcess[" + temp + "].lastProcessTime']").attr('name', "wasteProcess[" + temp2 + "].lastProcessTime");
        clonedTr.find("input[name='wasteProcess[" + temp + "].yearQuantity']").attr('name', "wasteProcess[" + temp2 + "].yearQuantity");
        clonedTr.addClass("newLine");
        clonedTr.insertAfter(tr);
    }
    /**
     * 增加处理过程新行
     */
    function addWasteProcessNewLine2() {
        var tr = $("#body2").children().last();
        console.log(tr);
        // 克隆tr，每次遍历都可以产生新的tr
        var clonedTr = tr.clone();
        // 获取编号
        var id = tr.children().get(0).innerHTML;
        var num = parseInt(id);
        num++;
        clonedTr.children().get(0).innerHTML = num;
        var temp = num-2+"";
        var temp2 = num-1+"";
        clonedTr.find("input[name='wasteProcess[" + temp + "].code']").attr('name', "wasteProcess[" + temp2 + "].code");
        clonedTr.find("input[name='wasteProcess[" + temp + "].description']").attr('name', "wasteProcess[" + temp2 + "].description");
        clonedTr.find("input[name='wasteProcess[" + temp + "].quantity']").attr('name', "wasteProcess[" + temp2 + "].quantity");
        clonedTr.find("input[name='wasteProcess[" + temp + "].lastProcessTime']").attr('name', "wasteProcess[" + temp2 + "].lastProcessTime");
        clonedTr.find("input[name='wasteProcess[" + temp + "].yearQuantity']").attr('name', "wasteProcess[" + temp2 + "].yearQuantity");
        clonedTr.addClass("newLine");
        clonedTr.insertAfter(tr);
    }
    function addRow3() {
        var tr11 = $("#row3");
        var tr10 = tr11.prev();
        var tr9 = tr10.prev();
        var tr8 = tr9.prev();
        var tr7 = tr8.prev();
        var tr6 = tr7.prev();
        var tr5 = tr6.prev();
        var tr4 = tr5.prev();
        var tr3 = tr4.prev();
        var tr2 = tr3.prev();
        var tr1 = tr2.prev();
        // 克隆tr，每次遍历都可以产生新的tr
        var clonedTr1 = tr1.clone();
        var clonedTr2 = tr2.clone();
        var clonedTr3 = tr3.clone();
        var clonedTr4 = tr4.clone();
        var clonedTr5 = tr5.clone();
        var clonedTr6 = tr6.clone();
        var clonedTr7 = tr7.clone();
        var clonedTr8 = tr8.clone();
        var clonedTr9 = tr9.clone();
        var clonedTr10 = tr10.clone();
        var clonedTr11 = tr11.clone();
        // 获取编号
        var id = tr1.children().get(0).innerHTML;
        var num = parseInt(id);
        num++;
        clonedTr1.children().get(0).innerHTML = num;
        clonedTr1.find("input[name^='deriveWastesList'],select[name^='deriveWastesList']").each(function () {
            var name = $(this).prop('name');
            var newName = name.replace(/deriveWastesList\[[0-9]\d*/, "deriveWastesList[" + id);
            $(this).attr('name', newName);
        });
        clonedTr2.find("input[name^='deriveWastesList'],select[name^='deriveWastesList']").each(function () {
            var name = $(this).prop('name');
            var newName = name.replace(/deriveWastesList\[[0-9]\d*/, "deriveWastesList[" + id);
            $(this).attr('name', newName);
        });
        clonedTr3.find("input[name^='deriveWastesList'],select[name^='deriveWastesList']").each(function () {
            var name = $(this).prop('name');
            var newName = name.replace(/deriveWastesList\[[0-9]\d*/, "deriveWastesList[" + id);
            $(this).attr('name', newName);
        });
        clonedTr4.find("input[name^='deriveWastesList'],select[name^='deriveWastesList']").each(function () {
            var name = $(this).prop('name');
            var newName = name.replace(/deriveWastesList\[[0-9]\d*/, "deriveWastesList[" + id);
            $(this).attr('name', newName);
        });
        clonedTr5.find("input[name^='deriveWastesList'],select[name^='deriveWastesList']").each(function () {
            var name = $(this).prop('name');
            var newName = name.replace(/deriveWastesList\[[0-9]\d*/, "deriveWastesList[" + id);
            $(this).attr('name', newName);
        });
        clonedTr6.find("input[name^='deriveWastesList'],select[name^='deriveWastesList']").each(function () {
            var name = $(this).prop('name');
            var newName = name.replace(/deriveWastesList\[[0-9]\d*/, "deriveWastesList[" + id);
            $(this).attr('name', newName);
        });
        clonedTr7.find("input[name^='deriveWastesList'],select[name^='deriveWastesList']").each(function () {
            var name = $(this).prop('name');
            var newName = name.replace(/deriveWastesList\[[0-9]\d*/, "deriveWastesList[" + id);
            $(this).attr('name', newName);
        });
        clonedTr8.find("input[name^='deriveWastesList'],select[name^='deriveWastesList']").each(function () {
            var name = $(this).prop('name');
            var newName = name.replace(/deriveWastesList\[[0-9]\d*/, "deriveWastesList[" + id);
            $(this).attr('name', newName);
        });
        clonedTr9.find("input[name^='deriveWastesList'],select[name^='deriveWastesList']").each(function () {
            var name = $(this).prop('name');
            var newName = name.replace(/deriveWastesList\[[0-9]\d*/, "deriveWastesList[" + id);
            $(this).attr('name', newName);
        });
        clonedTr10.find("input[name^='deriveWastesList'],select[name^='deriveWastesList']").each(function () {
            var name = $(this).prop('name');
            var newName = name.replace(/deriveWastesList\[[0-9]\d*/, "deriveWastesList[" + id);
            $(this).attr('name', newName);
        });
        clonedTr11.find("input[name^='deriveWastesList'],select[name^='deriveWastesList']").each(function () {
            var name = $(this).prop('name');
            var newName = name.replace(/deriveWastesList\[[0-9]\d*/, "deriveWastesList[" + id);
            $(this).attr('name', newName);
        });
        clonedTr1.addClass("newLine");
        clonedTr2.addClass("newLine");
        clonedTr3.addClass("newLine");
        clonedTr4.addClass("newLine");
        clonedTr5.addClass("newLine");
        clonedTr6.addClass("newLine");
        clonedTr7.addClass("newLine");
        clonedTr8.addClass("newLine");
        clonedTr9.addClass("newLine");
        clonedTr10.addClass("newLine");
        clonedTr11.addClass("newLine");
        clonedTr1.insertAfter(tr11);
        clonedTr2.insertAfter(clonedTr1);
        clonedTr3.insertAfter(clonedTr2);
        clonedTr4.insertAfter(clonedTr3);
        clonedTr5.insertAfter(clonedTr4);
        clonedTr6.insertAfter(clonedTr5);
        clonedTr7.insertAfter(clonedTr6);
        clonedTr8.insertAfter(clonedTr7);
        clonedTr9.insertAfter(clonedTr8);
        clonedTr10.insertAfter(clonedTr9);
        clonedTr11.insertAfter(clonedTr10);
        tr11.removeProp("id");
    }
    function addRow4() {
        var tr6 = $("#row4");
        var tr5 = tr6.prev();
        var tr4 = tr5.prev();
        var tr3 = tr4.prev();
        var tr2 = tr3.prev();
        var tr1 = tr2.prev();
        // 克隆tr，每次遍历都可以产生新的tr
        var clonedTr1 = tr1.clone();
        var clonedTr2 = tr2.clone();
        var clonedTr3 = tr3.clone();
        var clonedTr4 = tr4.clone();
        var clonedTr5 = tr5.clone();
        var clonedTr6 = tr6.clone();
        // 获取编号
        var id = tr1.children().get(0).innerHTML;
        var num = parseInt(id);
        num++;
        clonedTr1.children().get(0).innerHTML = num;
        clonedTr1.find("input[name^='deriveWastesList'],select[name^='deriveWastesList']").each(function () {
            var name = $(this).prop('name');
            var newName = name.replace(/deriveWastesList\[[0-9]\d*/, "deriveWastesList[" + id);
            $(this).attr('name', newName);
        });
        clonedTr2.find("input[name^='deriveWastesList'],select[name^='deriveWastesList']").each(function () {
            var name = $(this).prop('name');
            var newName = name.replace(/deriveWastesList\[[0-9]\d*/, "deriveWastesList[" + id);
            $(this).attr('name', newName);
        });
        clonedTr3.find("input[name^='deriveWastesList'],select[name^='deriveWastesList']").each(function () {
            var name = $(this).prop('name');
            var newName = name.replace(/deriveWastesList\[[0-9]\d*/, "deriveWastesList[" + id);
            $(this).attr('name', newName);
        });
        clonedTr4.find("input[name^='deriveWastesList'],select[name^='deriveWastesList']").each(function () {
            var name = $(this).prop('name');
            var newName = name.replace(/deriveWastesList\[[0-9]\d*/, "deriveWastesList[" + id);
            $(this).attr('name', newName);
        });
        clonedTr5.find("input[name^='deriveWastesList'],select[name^='deriveWastesList']").each(function () {
            var name = $(this).prop('name');
            var newName = name.replace(/deriveWastesList\[[0-9]\d*/, "deriveWastesList[" + id);
            $(this).attr('name', newName);
        });
        clonedTr6.find("input[name^='deriveWastesList'],select[name^='deriveWastesList']").each(function () {
            var name = $(this).prop('name');
            var newName = name.replace(/deriveWastesList\[[0-9]\d*/, "deriveWastesList[" + id);
            $(this).attr('name', newName);
        });
        clonedTr1.addClass("newLine");
        clonedTr2.addClass("newLine");
        clonedTr3.addClass("newLine");
        clonedTr4.addClass("newLine");
        clonedTr5.addClass("newLine");
        clonedTr6.addClass("newLine");
        clonedTr1.insertAfter(tr6);
        clonedTr2.insertAfter(clonedTr1);
        clonedTr3.insertAfter(clonedTr2);
        clonedTr4.insertAfter(clonedTr3);
        clonedTr5.insertAfter(clonedTr4);
        clonedTr6.insertAfter(clonedTr5);
        tr6.removeProp("id");
    }
    function addRow5() {
        var tr11 = $("#row5");
        var tr10 = tr11.prev();
        var tr9 = tr10.prev();
        var tr8 = tr9.prev();
        var tr7 = tr8.prev();
        var tr6 = tr7.prev();
        var tr5 = tr6.prev();
        var tr4 = tr5.prev();
        var tr3 = tr4.prev();
        var tr2 = tr3.prev();
        var tr1 = tr2.prev();
        // 克隆tr，每次遍历都可以产生新的tr
        var clonedTr1 = tr1.clone();
        var clonedTr2 = tr2.clone();
        var clonedTr3 = tr3.clone();
        var clonedTr4 = tr4.clone();
        var clonedTr5 = tr5.clone();
        var clonedTr6 = tr6.clone();
        var clonedTr7 = tr7.clone();
        var clonedTr8 = tr8.clone();
        var clonedTr9 = tr9.clone();
        var clonedTr10 = tr10.clone();
        var clonedTr11 = tr11.clone();
        // 获取编号
        var id = tr1.children().get(0).innerHTML;
        var num = parseInt(id);
        num++;
        clonedTr1.children().get(0).innerHTML = num;
        clonedTr1.find("input[name^='deriveWastesList'],select[name^='deriveWastesList']").each(function () {
            var name = $(this).prop('name');
            var newName = name.replace(/deriveWastesList\[[0-9]\d*/, "deriveWastesList[" + id);
            $(this).attr('name', newName);
        });
        clonedTr2.find("input[name^='deriveWastesList'],select[name^='deriveWastesList']").each(function () {
            var name = $(this).prop('name');
            var newName = name.replace(/deriveWastesList\[[0-9]\d*/, "deriveWastesList[" + id);
            $(this).attr('name', newName);
        });
        clonedTr3.find("input[name^='deriveWastesList'],select[name^='deriveWastesList']").each(function () {
            var name = $(this).prop('name');
            var newName = name.replace(/deriveWastesList\[[0-9]\d*/, "deriveWastesList[" + id);
            $(this).attr('name', newName);
        });
        clonedTr4.find("input[name^='deriveWastesList'],select[name^='deriveWastesList']").each(function () {
            var name = $(this).prop('name');
            var newName = name.replace(/deriveWastesList\[[0-9]\d*/, "deriveWastesList[" + id);
            $(this).attr('name', newName);
        });
        clonedTr5.find("input[name^='deriveWastesList'],select[name^='deriveWastesList']").each(function () {
            var name = $(this).prop('name');
            var newName = name.replace(/deriveWastesList\[[0-9]\d*/, "deriveWastesList[" + id);
            $(this).attr('name', newName);
        });
        clonedTr6.find("input[name^='deriveWastesList'],select[name^='deriveWastesList']").each(function () {
            var name = $(this).prop('name');
            var newName = name.replace(/deriveWastesList\[[0-9]\d*/, "deriveWastesList[" + id);
            $(this).attr('name', newName);
        });
        clonedTr7.find("input[name^='deriveWastesList'],select[name^='deriveWastesList']").each(function () {
            var name = $(this).prop('name');
            var newName = name.replace(/deriveWastesList\[[0-9]\d*/, "deriveWastesList[" + id);
            $(this).attr('name', newName);
        });
        clonedTr8.find("input[name^='deriveWastesList'],select[name^='deriveWastesList']").each(function () {
            var name = $(this).prop('name');
            var newName = name.replace(/deriveWastesList\[[0-9]\d*/, "deriveWastesList[" + id);
            $(this).attr('name', newName);
        });
        clonedTr9.find("input[name^='deriveWastesList'],select[name^='deriveWastesList']").each(function () {
            var name = $(this).prop('name');
            var newName = name.replace(/deriveWastesList\[[0-9]\d*/, "deriveWastesList[" + id);
            $(this).attr('name', newName);
        });
        clonedTr10.find("input[name^='deriveWastesList'],select[name^='deriveWastesList']").each(function () {
            var name = $(this).prop('name');
            var newName = name.replace(/deriveWastesList\[[0-9]\d*/, "deriveWastesList[" + id);
            $(this).attr('name', newName);
        });
        clonedTr11.find("input[name^='deriveWastesList'],select[name^='deriveWastesList']").each(function () {
            var name = $(this).prop('name');
            var newName = name.replace(/deriveWastesList\[[0-9]\d*/, "deriveWastesList[" + id);
            $(this).attr('name', newName);
        });
        clonedTr1.addClass("newLine");
        clonedTr2.addClass("newLine");
        clonedTr3.addClass("newLine");
        clonedTr4.addClass("newLine");
        clonedTr5.addClass("newLine");
        clonedTr6.addClass("newLine");
        clonedTr7.addClass("newLine");
        clonedTr8.addClass("newLine");
        clonedTr9.addClass("newLine");
        clonedTr10.addClass("newLine");
        clonedTr11.addClass("newLine");
        clonedTr1.insertAfter(tr11);
        clonedTr2.insertAfter(clonedTr1);
        clonedTr3.insertAfter(clonedTr2);
        clonedTr4.insertAfter(clonedTr3);
        clonedTr5.insertAfter(clonedTr4);
        clonedTr6.insertAfter(clonedTr5);
        clonedTr7.insertAfter(clonedTr6);
        clonedTr8.insertAfter(clonedTr7);
        clonedTr9.insertAfter(clonedTr8);
        clonedTr10.insertAfter(clonedTr9);
        clonedTr11.insertAfter(clonedTr10);
        tr11.removeProp("id");
    }
    function addRow6() {
        var tr6 = $("#row6");
        var tr5 = tr6.prev();
        var tr4 = tr5.prev();
        var tr3 = tr4.prev();
        var tr2 = tr3.prev();
        var tr1 = tr2.prev();
        // 克隆tr，每次遍历都可以产生新的tr
        var clonedTr1 = tr1.clone();
        var clonedTr2 = tr2.clone();
        var clonedTr3 = tr3.clone();
        var clonedTr4 = tr4.clone();
        var clonedTr5 = tr5.clone();
        var clonedTr6 = tr6.clone();
        // 获取编号
        var id = tr1.children().get(0).innerHTML;
        var num = parseInt(id);
        num++;
        clonedTr1.children().get(0).innerHTML = num;
        clonedTr1.find("input[name^='deriveWastesList'],select[name^='deriveWastesList']").each(function () {
            var name = $(this).prop('name');
            var newName = name.replace(/deriveWastesList\[[0-9]\d*/, "deriveWastesList[" + id);
            $(this).attr('name', newName);
        });
        clonedTr2.find("input[name^='deriveWastesList'],select[name^='deriveWastesList']").each(function () {
            var name = $(this).prop('name');
            var newName = name.replace(/deriveWastesList\[[0-9]\d*/, "deriveWastesList[" + id);
            $(this).attr('name', newName);
        });
        clonedTr3.find("input[name^='deriveWastesList'],select[name^='deriveWastesList']").each(function () {
            var name = $(this).prop('name');
            var newName = name.replace(/deriveWastesList\[[0-9]\d*/, "deriveWastesList[" + id);
            $(this).attr('name', newName);
        });
        clonedTr4.find("input[name^='deriveWastesList'],select[name^='deriveWastesList']").each(function () {
            var name = $(this).prop('name');
            var newName = name.replace(/deriveWastesList\[[0-9]\d*/, "deriveWastesList[" + id);
            $(this).attr('name', newName);
        });
        clonedTr5.find("input[name^='deriveWastesList'],select[name^='deriveWastesList']").each(function () {
            var name = $(this).prop('name');
            var newName = name.replace(/deriveWastesList\[[0-9]\d*/, "deriveWastesList[" + id);
            $(this).attr('name', newName);
        });
        clonedTr6.find("input[name^='deriveWastesList'],select[name^='deriveWastesList']").each(function () {
            var name = $(this).prop('name');
            var newName = name.replace(/deriveWastesList\[[0-9]\d*/, "deriveWastesList[" + id);
            $(this).attr('name', newName);
        });
        clonedTr1.addClass("newLine");
        clonedTr2.addClass("newLine");
        clonedTr3.addClass("newLine");
        clonedTr4.addClass("newLine");
        clonedTr5.addClass("newLine");
        clonedTr6.addClass("newLine");
        clonedTr1.insertAfter(tr6);
        clonedTr2.insertAfter(clonedTr1);
        clonedTr3.insertAfter(clonedTr2);
        clonedTr4.insertAfter(clonedTr3);
        clonedTr5.insertAfter(clonedTr4);
        clonedTr6.insertAfter(clonedTr5);
        tr6.removeProp("id");
    }
</script>
<body onload="loadQuestionnaireList();">
    <!--导航条-->
    <nav class="navbar navbar-inverse navbar-fixed-top" id="navbar1">
        <div class="main-title">
            <ul class="nav navbar-nav navbar-left navbar-side">
                <li>
                    <a href="#" onclick="$('body').toggleClass('sidebar-collapse');" style="width: 50px">
                        <span class="glyphicon glyphicon-menu-hamburger"></span>
                    </a>
                </li>
            </ul>
        </div>
        <div class="container navbar-left">
            <div class="navbar-header">
                <a class="navbar-brand" href="#"><img src="image/logo2.png"></a>
            </div>
            <div id="navbar" class="collapse navbar-collapse" style="margin-left: 150px;">
                <ul class="nav navbar-nav">
                    <li><a href="wastesPlatform.html">首页</a></li>
                    <li class="dropdown active">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">客户管理<span class="caret"></span></a>
                        <ul class="dropdown-menu">
                            <li><a href="clientBackup.html">客户备案</a></li>
                            <li role="separator" class="divider"></li>
                            <li class="dropdown-submenu">
                                <a href="#">业务员分配管理</a>
                                <ul class="dropdown-menu">
                                    <li><a href="salesManage.html">业务员管理</a></li>
                                    <li role="separator" class="divider"></li>
                                    <li><a href="clientSalesManage.html">客户分配管理</a></li>
                                </ul>
                            </li>
                            <li role="separator" class="divider"></li>
                            <li><a href="questionnaireManage.html">危废数据调查表管理</a></li>
                            <li role="separator" class="divider"></li>
                            <li><a href="sampleManage.html">客户样品登记</a></li>
                        </ul>
                    </li>
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">供应商管理<span class="caret"></span></a>
                        <ul class="dropdown-menu">
                            <li><a href="supplierBackup.html">供应商备案</a></li>
                        </ul>
                    </li>
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">合同管理<span class="caret"></span></a>
                        <ul class="dropdown-menu">
                            <li><a href="contractManage.html">合同列表</a></li>
                            <li role="separator" class="divider"></li>
                            <li><a href="contractTemplate.html">合同模板</a></li>
                        </ul>
                    </li>
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">价格管理<span class="caret"></span></a>
                        <ul class="dropdown-menu">
                            <li><a href="quotation.html">报价管理</a></li>
                            <li role="separator" class="divider"></li>
                            <li><a href="cost.html">成本管理</a></li>
                        </ul>
                    </li>
                    <li><a href="archivesManage.html">一企一档</a></li>

                </ul>
            </div><!--/.nav-collapse -->
        </div>
        <ul class="nav navbar-nav navbar-right">
            <li><a href="#" title="提醒"><span class="glyphicon glyphicon-bell"></span></a></li>
            <li><a href="#" title="事项"><span class="glyphicon glyphicon-envelope"></span></a></li>
            <li class="dropdown">
                <a href="#" title="我的" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false"><span class="glyphicon glyphicon-user"></span></a>
                <ul class="dropdown-menu">
                    <li><a href="#">个人信息</a></li>
                    <li><a href="#">待办事项</a></li>
                    <li><a href="index.html">注销</a></li>
                </ul>
            </li>
        </ul>
    </nav>

    <div class="container-fluid">
        <div class="row">
            <div class="sidebar">
                <!--<h4>博客管理系统(四月)</h4>-->
                <!--<div class="cover">-->
                <!--<h4><img class="img-circle" src="image/icons.png"/></h4>-->
                <!--<b>Hi~ 小主</b>-->
                <!--<p>超级管理员</p>-->
                <!--</div>-->
                <ul class="sidenav animated fadeInUp">
                    <!--<li><a href="#"><span class="glyphicon glyphicon-backward" aria-hidden="true"></span></a></li>-->
                    <li><a class="withripple" href="wastesPlatform.html"><span class="glyphicon glyphicon-list" aria-hidden="true"></span><span class="sidespan">&nbsp;&nbsp;概览 </span><span class="iright pull-right">&gt;</span><span class="sr-only">(current)</span></a></li>
                    <li class="active"><a class="withripple" href="businessModel.html"><span class="glyphicon glyphicon-user" aria-hidden="true"></span><span class="sidespan">&nbsp;&nbsp;商务管理 </span><span class="iright pull-right">&gt;</span></a></li>
                    <li><a class="withripple" href="#"><span class="glyphicon glyphicon-log-in" aria-hidden="true"></span><span class="sidespan">&nbsp;&nbsp;接收管理 </span><span class="iright pull-right">&gt;</span></a></li>
                    <li><a class="withripple" href="#"><span class="glyphicon glyphicon-save" aria-hidden="true"></span><span class="sidespan">&nbsp;&nbsp;贮存管理 </span><span class="iright pull-right">&gt;</span></a></li>
                    <li><a class="withripple" href="#"><span class="glyphicon glyphicon-sort-by-attributes-alt" aria-hidden="true"></span><span class="sidespan">&nbsp;&nbsp;预处理管理 </span><span class="iright pull-right">&gt;</span></a></li>
                    <li><a class="withripple" href="#"><span class="glyphicon glyphicon-retweet" aria-hidden="true"></span><span class="sidespan">&nbsp;&nbsp;处置管理 </span><span class="iright pull-right">&gt;</span></a></li>
                    <li><a class="withripple" href="#"><span class="glyphicon glyphicon-tags" aria-hidden="true"></span><span class="sidespan">&nbsp;&nbsp;次生管理 </span><span class="iright pull-right">&gt;</span></a></li>
                    <li><a class="withripple" href="#"><span class="glyphicon glyphicon-signal" aria-hidden="true"></span><span class="sidespan">&nbsp;&nbsp;基础数据 </span><span class="iright pull-right">&gt;</span></a></li>
                    <li><a class="withripple" href="#"><span class="glyphicon glyphicon-cog" aria-hidden="true"></span><span class="sidespan">&nbsp;&nbsp;系统设置 </span><span class="iright pull-right">&gt;</span></a></li>
                </ul>
            </div>
        </div>

        <div class="col-sm-9 col-sm-offset-3 col-md-10 col-md-offset-2 main">
            <!--面包屑导航-->
            <div>
                <ol class="breadcrumb">
                    <li><a href="businessModel.html">商务管理</a></li>
                    <li><a href="#">客户管理</a></li>
                    <li class="active">危废数据调查表管理</li>
                </ol>
            </div>
            <h4 class="sub-header">调查表列表</h4>
            <div class="row">
                <div>
                    <!--操作按钮-->
                    <div class="pull-left col-md-6">
                        <a class="btn btn-primary btn-xs" href="questionnaire1.html" onclick="clearQuestionnaire();"><span class="glyphicon glyphicon-plus" aria-hidden="true"></span> 新增</a>
                        <a class="btn btn-primary btn-xs" onclick="signInQuestionnaireByCheckBox();"><span class="glyphicon glyphicon-ok" aria-hidden="true"></span> 签收</a>
                        <a class="btn btn-primary btn-xs" onclick="backQuestionnaireByCheckBox();"><span class="glyphicon glyphicon-remove" aria-hidden="true"></span> 退回</a>
                        <a class="btn btn-primary btn-xs" onclick="importExcel()"><span class="glyphicon glyphicon-arrow-down" aria-hidden="true"></span> 导入</a>
                        <a class="btn btn-primary btn-xs" onclick="exportExcel()"><span class="glyphicon glyphicon-arrow-up" aria-hidden="true"></span> 导出</a>
                    </div>
                    <!--查询框-->
                    <div class="input-group col-xs-4 pull-right">
                        <input type="text" class="form-control" placeholder="搜索..." id="searchContent">
                        <span class="input-group-btn">
                            <a class="btn btn-default" onclick="searchQuestionnaire();"><span class="glyphicon glyphicon-search" aria-hidden="true"></span> 查询</a>
                        </span>
                    </div>
                </div>

            </div>

            <div class="table">
                <table class="table table-striped table-hover table-condensed">
                    <thead>
                    <tr>
                        <th class="text-center">
                            <label>
                                <input class="checkbox" type="checkbox" value="option1" aria-label="..." name="allSel" onclick="allSelect()">
                            </label>
                        </th>
                        <th class="text-center">调查表编号</th>
                        <th class="text-center" style="width: 300px">企业名称</th>
                        <th class="text-center" style="width: 250px">所属行业</th>
                        <th class="text-center" style="width: 100px">主要产品</th>
                        <th class="text-center">状态</th>
                        <th class="text-center">填报人</th>
                        <th class="text-center">填报日期</th>
                        <th class="text-center">操作</th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr id="cloneTr">
                        <td class="text-center">
                            <label>
                                <input name="select" class="checkbox" type="checkbox" id="blankCheckbox" value="option1" aria-label="...">
                            </label>
                        </td>
                        <td class="text-center"></td>
                        <td class="text-center"></td>
                        <td class="text-center"></td>
                        <td class="text-center"></td>
                        <td class="text-center"></td>
                        <td class="text-center"></td>
                        <td class="text-center"></td>
                        <td class="dropdown text-center">
                            <a href="#" onclick="viewQuestion(this);" title="查看"><span class="glyphicon glyphicon glyphicon-search" aria-hidden="true"></span></a>
                            <a href="#" onclick="viewQuestionnaire(this);" title="审批"><span class="glyphicon glyphicon-retweet" aria-hidden="true"></span></a>
                            <a href="#" onclick="adjustQuestionnaire(this);" title="修改信息"><span class="glyphicon glyphicon glyphicon-pencil" aria-hidden="true"></span></a>
                            <a href="#" onclick="signInQuestionnaire(this);" title="签收"><span class="glyphicon glyphicon glyphicon-ok-circle" aria-hidden="true"></span></a>
                            <a href="#" onclick="backQuestionnaire(this);" title="退回"><span class="glyphicon glyphicon-log-out" aria-hidden="true"></span></a>
                            <a href="#" onclick="appointModal(this);" title="预约送样"><span class="glyphicon glyphicon-link" aria-hidden="true"></span></a>
                        </td>
                    </tr>
                    </tbody>
                </table>
            </div>
            <!--分页-->
            <nav aria-label="Page navigation" style="text-align: center">
                <ul class="pagination">
                    <li class="disabled">
                        <a href="#" aria-label="Previous">
                            <span aria-hidden="true">&laquo;</span>
                        </a>
                    </li>
                    <li class="active"><a href="#">1</a></li>
                    <li><a href="#">2</a></li>
                    <li><a href="#">3</a></li>
                    <li><a href="#">4</a></li>
                    <li><a href="#">5</a></li>
                    <li>
                        <a href="#" aria-label="Next">
                            <span aria-hidden="true">&raquo;</span>
                        </a>
                    </li>
                </ul>
            </nav>
        </div>
    </div>

    <!-- 预约模态框 -->
    <div class="modal fade" id="appointModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                    <h4 class="modal-title" id="myModalLabel">预约取/送样</h4>
                </div>
                <div class="modal-body">
                    <form class="form-horizontal" id="model-appoint" method="post">
                        <div class="row">
                            <div class="col-md-6">
                                <div class="form-group">
                                    <label for="model-companyName" class="col-sm-5 control-label">公司名称</label>
                                    <div class="col-sm-7">
                                        <input type="text" class="form-control" id="model-companyName" name="companyName" readonly>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label for="model-contactName" class="col-sm-5 control-label">联系人<sup><span class="glyphicon glyphicon-asterisk text-danger" aria-hidden="true"></span></sup></label>
                                    <div class="col-sm-7">
                                        <input type="text" class="form-control" id="model-contactName" name="contactName" required>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="form-group">
                                    <label for="model-appointTime" class="col-sm-5 control-label">取样时间<sup><span class="glyphicon glyphicon-asterisk text-danger" aria-hidden="true"></span></sup></label>
                                    <div class="col-sm-7">
                                        <div class="input-group date form_datetime" data-date="" data-date-format="" data-link-field="dtp_input1">
                                            <input class="form-control" type="text" value="" id="model-appointTime" name="appointTime" readonly required>
                                            <span class="input-group-addon"><span class="glyphicon glyphicon-th"></span></span>
                                        </div>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label for="model-contactPhone" class="col-sm-5 control-label">联系电话<sup><span class="glyphicon glyphicon-asterisk text-danger" aria-hidden="true"></span></sup></label>
                                    <div class="col-sm-7">
                                        <input type="text" class="form-control" id="model-contactPhone" name="telephone" required>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="model-comment" class="col-sm-2 control-label">备注</label>
                            <div class="col-sm-10">
                                <textarea class="form-control" id="model-comment" name="comment" rows="3"></textarea>
                            </div>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">关闭</button>
                    <button type="button" class="btn btn-primary" onclick="addAppoint(this);">预约</button>
                </div>
            </div>
        </div>
    </div>
    <!-- 危废数据评估表模态框 -->
    <div class="modal fade bs-example-modal-lg" id="appointModal1" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
        <div class="modal-dialog modal-lg" role="document">
            <div class="modal-content">
                <div class="client_style">
                <div class="modal-header">
                    <img src="image/logo1.png">
                    <div style="display:inline-block;">
                        <h4 class="modal-title text-center" id="myModalLabel1">北控安耐得环保科技发展常州有限公司</h4>
                        <br>
                        <h4 class="modal-title1 text-center" id="myModalLabel2">危险废弃物数据评估表</h4>
                    </div>
                </div>
                <div class="row">
                    <div class="form-group">
                        <div class="col-md-8"></div>
                        <!--查询框-->
                        <div class="input-group">
                            <label class="col-sm-4 control-label text-oneLine">调查表编号</label>
                            <div class="col-xs-8">
                                <input type="text" class="form-control" id="model-questionnaireId3">
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-body">
                    <h4><b>1.危废生产单位基本信息</b></h4>
                    <form id="model-appoint9" method="post">
                        <div class="row">
                            <div class="form-horizontal col-md-6">
                                <div class="form-group">
                                    <label for="model-companyName" class="control-label col-sm-4 ">企业名称</label>
                                    <input type="text" class="css" id="model-companyName3" name="companyName" readonly>
                                </div>
                                <div class="form-group">
                                    <label for="model-contactName" class="control-label col-sm-4 ">联系人</label>
                                    <input type="text" class="css" id="model-contactName3" name="contactName">
                                </div>
                                <div class="form-group">
                                    <label for="model-contactName" class="control-label col-sm-4 ">所属行业</label>
                                    <input type="text" class="css" id="model-industry3" name="industry">
                                </div>
                                <div class="form-group">
                                    <label for="model-contactName" class="control-label col-sm-4 ">填报人</label>
                                    <input type="text" class="css" id="model-author3" name="author">
                                </div>
                            </div>
                            <div class="form-horizontal col-md-6">
                                <div class="form-group">
                                    <label for="model-contactPhone" class="control-label col-sm-4 ">地址</label>
                                    <input type="text" class="css" id="model-location3" name="location">
                                </div>
                                <div class="form-group">
                                    <label for="model-contactPhone" class="control-label col-sm-4 ">联系电话</label>
                                    <input type="text" class="css" id="model-phone3" name="phone">
                                </div>
                                <div class="form-group">
                                    <label for="model-contactPhone" class="control-label col-sm-4 ">主要产品</label>
                                    <input type="text" class="css" id="model-product3" name="product">
                                </div>
                                <div class="form-group">
                                    <label for="model-contactPhone" class="control-label col-sm-4 ">填表日期</label>
                                    <input type="text" class="css" id="model-time3" name="time">
                                </div>
                            </div>
                        </div>
                    </form>
                    <h4><b>2.危废产生中使用的主要原料、辅料和有可能带入的化学物质</b></h4>
                    <form id="model-appoint10" method="post">
                        <table class="table table-bordered">
                            <thead>
                            <tr>
                                <th class="text-center">序号</th>
                                <th class="text-center">含化学物质主要原材料</th>
                                <th class="text-center">含化学物质辅料</th>
                                <th class="text-center">可能带入的化学物质</th>
                            </tr>
                            </thead>
                            <tbody>
                            <tr>
                                <td class="text-center">1</td>
                                <td class="text-center"><input class="focus" type="text" maxlength="20" name="rawWastes[0].mainMaterial"></td>
                                <td class="text-center"><input class="focus" type="text" maxlength="20" name="rawWastes[0].auxMaterial"></td>
                                <td class="text-center"><input class="focus" type="text" maxlength="20" name="rawWastes[0].draginMaterial"></td>
                            </tr>
                            <tr id="raw2">
                                <td colspan="4">
                                    <b>特别关注的物质：</b>
                                    请确认原料、辅料、废料或工艺是否含有下列物质
                                </td>
                            </tr>
                            <tr>
                                <td colspan="4" rowspan="4">
                                    <div class="row">
                                        <div class="form-horizontal col-md-3">
                                            <label>
                                                <input type="checkbox" name="wasteInclusionTypeList2" value="1"> 过氯化物
                                            </label>
                                        </div>
                                        <div  class="form-horizontal col-md-3">
                                            <label>
                                                <input type="checkbox" name="wasteInclusionTypeList2" value="5"> 过氧化物
                                            </label>
                                        </div>
                                        <div  class="form-horizontal col-md-3">
                                            <label>
                                                <input type="checkbox" name="wasteInclusionTypeList2" value="9"> 有机氰
                                            </label>
                                        </div>
                                        <div  class="form-horizontal col-md-3">
                                            <label>
                                                <input type="checkbox" name="wasteInclusionTypeList2" value="13"> 爆炸物
                                            </label>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div  class="form-horizontal col-md-3">
                                            <label>
                                                <input type="checkbox" name="wasteInclusionTypeList2" value="2"> 有机氮
                                            </label>
                                        </div>
                                        <div  class="form-horizontal col-md-3">
                                            <label>
                                                <input type="checkbox" name="wasteInclusionTypeList2" value="6"> 放射性物质
                                            </label>
                                        </div>
                                        <div  class="form-horizontal col-md-3">
                                            <label>
                                                <input type="checkbox" name="wasteInclusionTypeList2" value="10"> 酸酐
                                            </label>
                                        </div>
                                        <div  class="form-horizontal col-md-3">
                                            <label>
                                                <input type="checkbox" name="wasteInclusionTypeList2" value="14"> 生化废料
                                            </label>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div  class="form-horizontal col-md-3">
                                            <label>
                                                <input type="checkbox" name="wasteInclusionTypeList2" value="3"> 乙醚
                                            </label>
                                        </div>
                                        <div  class="form-horizontal col-md-3">
                                            <label>
                                                <input type="checkbox" name="wasteInclusionTypeList2" value="7"> 催泪物质
                                            </label>
                                        </div>
                                        <div  class="form-horizontal col-md-3">
                                            <label>
                                                <input type="checkbox" name="wasteInclusionTypeList2" value="11"> 硒化物
                                            </label>
                                        </div>
                                        <div  class="form-horizontal col-md-3">
                                            <label>
                                                <input type="checkbox" name="wasteInclusionTypeList2" value="15"> 苯酚
                                            </label>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div  class="form-horizontal col-md-3">
                                            <label>
                                                <input type="checkbox" name="wasteInclusionTypeList2" value="4"> 苯
                                            </label>
                                        </div>
                                        <div  class="form-horizontal col-md-3">
                                            <label>
                                                <input type="checkbox" name="wasteInclusionTypeList2" value="8"> 多氯联苯-聚氯三联苯
                                            </label>
                                        </div>
                                        <div  class="form-horizontal col-md-3">
                                            <label>
                                                <input type="checkbox" name="wasteInclusionTypeList2" value="12"> 氧化剂
                                            </label>
                                        </div>
                                        <div  class="form-horizontal col-md-3">
                                            <label>
                                                <input type="checkbox" name="wasteInclusionTypeList2" value="16"> 还原剂
                                            </label>
                                        </div>
                                    </div>

                                </td>
                            </tr>
                            </tbody>
                        </table>
                    </form>
                    <h4><b>3.危废生产工艺流程描述</b></h4>
                    <form id="model-appoint11" method="post">
                        <table class="table table-bordered">
                            <thead>
                            <tr>
                                <th class="text-center">序号</th>
                                <th class="text-center">危废名称</th>
                                <th class="text-center">生产流程描述</th>
                                <th class="text-center">现有量(吨)</th>
                                <th class="text-center">上次处理时间</th>
                                <th class="text-center">年预计量(吨)</th>
                                <th class="text-center">包装现状</th>
                            </tr>
                            </thead>
                            <tbody id="body2">
                            <tr>
                                <td onclick="focusInput(this);">1</td>
                                <td onclick="focusInput(this);"><input class="focus" type="text" style="width: 100px" maxlength="20" name="wasteProcess[0].code"></td>
                                <td onclick="focusInput(this);"><input class="focus" type="text" style="width: 100px" maxlength="20" name="wasteProcess[0].description"></td>
                                <td onclick="focusInput(this);"><input class="focus" type="text" style="width: 100px" maxlength="20" name="wasteProcess[0].quantity"></td>
                                <td onclick="focusInput(this);"><input class="focus" type="text" style="width: 100px" maxlength="20" name="wasteProcess[0].lastProcessTime"></td>
                                <td onclick="focusInput(this);"><input class="focus" type="text" style="width: 100px" maxlength="20" name="wasteProcess[0].yearQuantity"></td>
                                <td>
                                    <input type="checkbox">罐装<br>(材质：<input class="focus" type="text" style="width: 50px" maxlength="5">容积：<input class="focus" type="text" style="width: 50px" maxlength="5">)<br>
                                    <input type="checkbox">桶装<br>(材质：<input class="focus" type="text" style="width: 50px" maxlength="5">容积：<input class="focus" type="text" style="width: 50px" maxlength="5">)<br>
                                    <input type="checkbox">袋装<br>(材质：<input class="focus" type="text" style="width: 50px" maxlength="5">容积：<input class="focus" type="text" style="width: 50px" maxlength="5">)<br>
                                    <input type="checkbox">其他<br>(请说明：<input class="focus" type="text" style="width: 100px" maxlength="14">)
                                </td>
                            </tr>
                            </tbody>
                        </table>
                    </form>
                    <h4><b>4.危废理化性质</b></h4>
                    <form id="model-appoint12" method="post">
                        <table class="table table-bordered">
                            <tr>
                                <th class="text-center">序号</th>
                                <th class="text-center">危废名称</th>
                                <th class="text-center">危废代码</th>
                                <th class="text-center" colspan="2">物理形态</th>
                                <th class="text-center" colspan="6">均质与混合多项物</th>
                                <th class="text-center" colspan="3">敏感酸性组份</th>
                            </tr>
                            <tr>
                                <td class="text-center" rowspan="11">1</td>
                                <td class="text-center" rowspan="11" onclick="focusInput(this);"><input maxlength="8" type="text" class="focus" style="width:100px" name="deriveWastesList[0].name"></td>
                                <td class="text-center" rowspan="11"><input maxlength="8" type="text" class="focus" style="width:100px" name="deriveWastesList[0].code"></td>
                                <td class="text-center" rowspan="2">物质形态</td>
                                <td class="text-center"><input maxlength="8" type="text" class="focus" style="width:100px" name="deriveWastesList[0].formType"></td>
                                <td class="text-center" colspan="6">
                                    <input maxlength="8" type="radio" name="deriveWastesList[0].isMixture" value="false">均质&nbsp;
                                    <input maxlength="8" type="radio" name="deriveWastesList[0].isMixture" value="true">混合多项物
                                </td>
                                <td class="text-center">组份</td>
                                <td class="text-center">有机</td>
                                <td class="text-center">无机</td>
                            </tr>
                            <tr>
                                <td class="text-center"><input maxlength="8" type="text" placeholder="说明" class="focus" style="width:100px" name="deriveWastesList[0].formTypeDetail"></td>
                                <td class="text-center" rowspan="2" colspan="3">混合多项物混合成分</td>
                                <td class="text-center" colspan="3">预估含量(%)</td>
                                <td class="text-center">
                                    <input maxlength="8" type="checkbox" name="deriveWastesList[0].sensitiveElementList[0].chemicalType" value="Chlorine">氯
                                </td>
                                <td class="text-center">
                                    <input maxlength="8" type="radio" name="deriveWastesList[0].sensitiveElementList[0].isOrganic" value="true">
                                </td>
                                <td class="text-center">
                                    <input maxlength="8" type="radio" name="deriveWastesList[0].sensitiveElementList[0].isOrganic" value="false">
                                </td>
                            </tr>
                            <tr>
                                <td class="text-center" rowspan="2">物质气味</td>
                                <td class="text-center"><input maxlength="8" type="text" class="focus" style="width:100px" name="deriveWastesList[0].smellType"></td>
                                <td class="text-center">最低</td>
                                <td class="text-center">平均</td>
                                <td class="text-center">最高</td>
                                <td class="text-center">
                                    <input maxlength="8" type="checkbox" name="deriveWastesList[0].sensitiveElementList[1].chemicalType" value="Fluorine">氟
                                </td>
                                <td class="text-center">
                                    <input maxlength="8" type="radio" name="deriveWastesList[0].sensitiveElementList[1].isOrganic" value="true">
                                </td>
                                <td class="text-center">
                                    <input maxlength="8" type="radio" name="deriveWastesList[0].sensitiveElementList[1].isOrganic" value="false">
                                </td>
                            </tr>
                            <tr>
                                <td class="text-center"><input maxlength="8" type="text" placeholder="说明" class="focus" style="width:100px" name="deriveWastesList[0].smellTypeDetail"></td>
                                <td class="text-center" colspan="3"><input maxlength="8" type="text" class="focus" style="width:100px" name="deriveWastesList[0].mixingElementList[0].name"></td>
                                <td class="text-center"><input type="text" class="focus" style="width:50px" name="deriveWastesList[0].mixingElementList[0].minimum"></td>
                                <td class="text-center"><input type="text" class="focus" style="width:50px" name="deriveWastesList[0].mixingElementList[0].average"></td>
                                <td class="text-center"><input type="text" class="focus" style="width:50px" name="deriveWastesList[0].mixingElementList[0].maximum"></td>
                                <td class="text-center">
                                    <input maxlength="8" type="checkbox" name="deriveWastesList[0].sensitiveElementList[2].chemicalType" value="Bromine">溴
                                </td>
                                <td class="text-center">
                                    <input maxlength="8" type="radio" name="deriveWastesList[0].sensitiveElementList[2].isOrganic" value="true">
                                </td>
                                <td class="text-center">
                                    <input maxlength="8" type="radio" name="deriveWastesList[0].sensitiveElementList[2].isOrganic" value="false">
                                </td>
                            </tr>
                            <tr>
                                <td class="text-center" rowspan="2">可溶性</td>
                                <td class="text-center"><input maxlength="8" type="text" class="focus" style="width:100px" name="deriveWastesList[0].solubility"></td>
                                <td class="text-center" colspan="3"><input maxlength="8" type="text" class="focus" style="width:100px" name="deriveWastesList[0].mixingElementList[1].name"></td>
                                <td class="text-center"><input type="text" class="focus" style="width:50px" name="deriveWastesList[0].mixingElementList[1].minimum"></td>
                                <td class="text-center"><input type="text" class="focus" style="width:50px" name="deriveWastesList[0].mixingElementList[1].average"></td>
                                <td class="text-center"><input type="text" class="focus" style="width:50px" name="deriveWastesList[0].mixingElementList[1].maximum"></td>
                                <td class="text-center">
                                    <input maxlength="8" type="checkbox" name="deriveWastesList[0].sensitiveElementList[3].chemicalType" value="Iodine">碘
                                </td>
                                <td class="text-center">
                                    <input maxlength="8" type="radio" name="deriveWastesList[0].sensitiveElementList[3].isOrganic" value="true">
                                </td>
                                <td class="text-center">
                                    <input maxlength="8" type="radio" name="deriveWastesList[0].sensitiveElementList[3].isOrganic" value="false">
                                </td>
                            </tr>
                            <tr>
                                <td class="text-center"><input maxlength="8" type="text" placeholder="说明" class="focus" style="width:100px" name="deriveWastesList[0].solubilityDetail"></td>
                                <td class="text-center" colspan="3"><input maxlength="8" type="text" class="focus" style="width:100px" name="deriveWastesList[0].mixingElementList[2].name"></td>
                                <td class="text-center"><input type="text" class="focus" style="width:50px" name="deriveWastesList[0].mixingElementList[2].minimum"></td>
                                <td class="text-center"><input type="text" class="focus" style="width:50px" name="deriveWastesList[0].mixingElementList[2].average"></td>
                                <td class="text-center"><input type="text" class="focus" style="width:50px" name="deriveWastesList[0].mixingElementList[2].maximum"></td>
                                <td class="text-center">
                                    <input maxlength="8" type="checkbox" name="deriveWastesList[0].sensitiveElementList[4].chemicalType" value="Sulphur">硫
                                </td>
                                <td class="text-center">
                                    <input maxlength="8" type="radio" name="deriveWastesList[0].sensitiveElementList[4].isOrganic" value="true">
                                </td>
                                <td class="text-center">
                                    <input maxlength="8" type="radio" name="deriveWastesList[0].sensitiveElementList[4].isOrganic" value="false">
                                </td>
                            </tr>
                            <tr>
                                <td class="text-center" rowspan="2">储存温度</td>
                                <td class="text-center">
                                    <input maxlength="8" type="radio" name="deriveWastesList[0].isLowTemp" value="false">常温
                                </td>
                                <td class="text-center" colspan="3"><input maxlength="8" type="text" class="focus" style="width:100px" name="deriveWastesList[0].mixingElementList[3].name"></td>
                                <td class="text-center"><input type="text" class="focus" style="width:50px" name="deriveWastesList[0].mixingElementList[3].minimum"></td>
                                <td class="text-center"><input type="text" class="focus" style="width:50px" name="deriveWastesList[0].mixingElementList[3].average"></td>
                                <td class="text-center"><input type="text" class="focus" style="width:50px" name="deriveWastesList[0].mixingElementList[3].maximum"></td>
                                <td class="text-center">
                                    <input maxlength="8" type="checkbox" name="deriveWastesList[0].sensitiveElementList[5].chemicalType" value="Phosphorus">磷
                                </td>
                                <td class="text-center">
                                    <input maxlength="8" type="radio" name="deriveWastesList[0].sensitiveElementList[5].isOrganic" value="true">
                                </td>
                                <td class="text-center">
                                    <input maxlength="8" type="radio" name="deriveWastesList[0].sensitiveElementList[5].isOrganic" value="false">
                                </td>
                            </tr>
                            <tr>
                                <td class="text-center">
                                    <input maxlength="8" type="radio" name="deriveWastesList[0].isLowTemp" value="true">低温<br><input maxlength="8" type="text" style="width:50px" name="deriveWastesList[0].lowTemp">℃
                                </td>
                                <td class="text-center" colspan="3"><input maxlength="8" type="text" class="focus" style="width:100px" name="deriveWastesList[0].mixingElementList[4].name"></td>
                                <td class="text-center"><input type="text" class="focus" style="width:50px" name="deriveWastesList[0].mixingElementList[4].minimum"></td>
                                <td class="text-center"><input type="text" class="focus" style="width:50px" name="deriveWastesList[0].mixingElementList[4].average"></td>
                                <td class="text-center"><input type="text" class="focus" style="width:50px" name="deriveWastesList[0].mixingElementList[4].maximum"></td>
                                <td class="text-center">
                                    <input maxlength="8" type="checkbox" name="deriveWastesList[0].sensitiveElementList[6].chemicalType" value="Nitrogen">氮
                                </td>
                                <td class="text-center">
                                    <input maxlength="8" type="radio" name="deriveWastesList[0].sensitiveElementList[6].isOrganic" value="true">
                                </td>
                                <td class="text-center">
                                    <input maxlength="8" type="radio" name="deriveWastesList[0].sensitiveElementList[6].isOrganic" value="false">
                                </td>
                            </tr>
                            <tr>
                                <td class="text-center" rowspan="3">其他</td>
                                <td class="text-center" rowspan="3">如为精馏残渣其可溶温度:<input maxlength="8" type="text" style="width:50px" name="deriveWastesList[0].solubleTemp">℃</td>
                                <td class="text-center" colspan="3"><input maxlength="8" type="text" class="focus" style="width:100px" name="deriveWastesList[0].mixingElementList[5].name"></td>
                                <td class="text-center"><input type="text" class="focus" style="width:50px" name="deriveWastesList[0].mixingElementList[5].minimum"></td>
                                <td class="text-center"><input type="text" class="focus" style="width:50px" name="deriveWastesList[0].mixingElementList[5].average"></td>
                                <td class="text-center"><input type="text" class="focus" style="width:50px" name="deriveWastesList[0].mixingElementList[5].maximum"></td>
                                <td class="text-center" colspan="3" rowspan="3">
                                    <p class="text-danger">备注:主要成分避免使用废溶剂、废油等笼统描述，尽可能详尽估算出含量</p>
                                </td>
                            </tr>
                            <tr>
                                <td class="text-center" colspan="3"><input maxlength="8" type="text" class="focus" style="width:100px" name="deriveWastesList[0].mixingElementList[6].name"></td>
                                <td class="text-center"><input type="text" class="focus" style="width:50px" name="deriveWastesList[0].mixingElementList[6].minimum"></td>
                                <td class="text-center"><input type="text" class="focus" style="width:50px" name="deriveWastesList[0].mixingElementList[6].average"></td>
                                <td class="text-center"><input type="text" class="focus" style="width:50px" name="deriveWastesList[0].mixingElementList[6].maximum"></td>
                            </tr>
                            <tr id="row3">
                                <td class="text-center" colspan="3"><input maxlength="8" type="text" class="focus" style="width:100px" name="deriveWastesList[0].mixingElementList[7].name"></td>
                                <td class="text-center"><input type="text" class="focus" style="width:50px" name="deriveWastesList[0].mixingElementList[7].minimum"></td>
                                <td class="text-center"><input type="text" class="focus" style="width:50px" name="deriveWastesList[0].mixingElementList[7].average"></td>
                                <td class="text-center"><input type="text" class="focus" style="width:50px" name="deriveWastesList[0].mixingElementList[7].maximum"></td>
                            </tr>
                        </table>
                    </form>
                    <h4><b>5.危废安全告知</b></h4>
                    <form id="model-appoint13" method="post">
                        <div class="row">
                            <div class="form-horizontal col-md-12">
                                <div class="form-group">
                                    <table class="table table-bordered">
                                        <thead>
                                        <tr>
                                            <th style="width: 50px;" class="text-center">序号</th>
                                            <th style="width: 270px" class="text-center">危废名称</th>
                                            <th class="text-center">特性</th>
                                            <th class="text-center">危废处理个人防护</th>
                                            <th colspan="2" class="text-center">应急对应措施</th>
                                        </tr>
                                        </thead>
                                        <tbody>
                                        <tr>
                                            <td rowspan="6" class="text-center">1</td>
                                            <td rowspan="6" style="width: 270px" onclick="focusInput(this);" class="text-center"><input type="text" style="width:256px" class="focus" name="deriveWastesList[0].name"></td>
                                            <td rowspan="6" style="width: 120px" align="left">
                                                <input type="checkbox" name="deriveWastesList[0].wasteCharacterList[0]" value="Virulence">毒性<br>
                                                <input type="checkbox" name="deriveWastesList[0].wasteCharacterList[1]" value="Flammable">易燃<br>
                                                <input type="checkbox" name="deriveWastesList[0].wasteCharacterList[2]" value="Sour">酸性<br>
                                                <input type="checkbox" name="deriveWastesList[0].wasteCharacterList[3]" value="Alkaline">碱性<br>
                                                <input type="checkbox" name="deriveWastesList[0].wasteCharacterList[4]" value="Explosion">易爆性<br>
                                                <input type="checkbox" name="deriveWastesList[0].wasteCharacterList[5]" value="Oxidability">氧化性<br>
                                                <input type="checkbox" name="deriveWastesList[0].wasteCharacterList[6]" value="Reducibility">还原性<br>
                                                <input type="checkbox" name="deriveWastesList[0].wasteCharacterList[7]" value="WaterFlammable">遇水易燃<br>
                                                <input type="checkbox" name="deriveWastesList[0].wasteCharacterList[8]" value="WaterVirulence">遇水易释放有毒气体<br>
                                                <input type="checkbox" name="deriveWastesList[0].wasteCharacterList[9]" value="AirFlammable">接触空气可发生自燃<br>
                                            </td>
                                            <td rowspan="6" style="width: 200px" align="left">
                                                <input type="checkbox" name="deriveWastesList[0].wasteProtectList[0]" value="ProtectiveGlasses">防护眼镜<br>
                                                <input type="checkbox" name="deriveWastesList[0].wasteProtectList[1]" value="ProtectiveGarment">防护服<br>
                                                <input type="checkbox" name="deriveWastesList[0].wasteProtectList[2]" value="ProtectiveMask">防护面罩<br>
                                                <input type="checkbox" name="deriveWastesList[0].wasteProtectList[3]" value="HalfMask">半面罩<br>
                                                <input type="checkbox" name="deriveWastesList[0].wasteProtectList[4]" value="CoverMask">全面罩<br>
                                                <input type="checkbox" name="deriveWastesList[0].wasteProtectList[5]" value="PositiveRespirator">正压呼吸器<br>
                                                <input type="checkbox" name="deriveWastesList[0].wasteProtectList[6]" value="ProtectiveGloves">防护手套<br>
                                            </td>
                                            <td style="width: 130px">若不慎入眼</td><br>
                                            <td style="width: 245px"><input type="text" style="width:240px" class="focus" name="deriveWastesList[0].eyeMeasures"></td>
                                        </tr>
                                        <tr>
                                            <td style="width: 130px">若接触到皮肤</td>
                                            <td style="width: 245px"><input type="text" style="width:240px" class="focus" name="deriveWastesList[0].skinMeasures"></td>
                                        </tr>
                                        <tr>
                                            <td style="width: 130px">若吞食</td>
                                            <td style="width: 245px"><input type="text" style="width:240px" class="focus" name="deriveWastesList[0].swallowMeasures"></td>
                                        </tr>
                                        <tr>
                                            <td style="width: 130px">若吸入</td>
                                            <td style="width: 245px"><input type="text" style="width:240px" class="focus" name="deriveWastesList[0].suctionMeasures"></td>
                                        </tr>
                                        <tr>
                                            <td style="width: 130px">灭火方法</td>
                                            <td style="width: 245px"><input type="text" style="width:240px" class="focus" name="deriveWastesList[0].putOutFireMeasures"></td>
                                        </tr>
                                        <tr id="row4">
                                            <td style="width: 130px">泄露处理方法</td>
                                            <td style="width: 245px"><input type="text" style="width:240px" class="focus" name="deriveWastesList[0].leakMeasures"></td>
                                        </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </form>
                    <h4><b>审核意见</b></h4>
                    <form id="model-appoint1" method="post">
                        <div class="row">
                            <div class="form-horizontal col-md-12">
                                <div class="form-group">
                                    <form method="post" id="Opinion">
                                        <table class="table table-bordered">
                                            <tr>
                                                <td class="cen">市场部审核意见</td>
                                                <td>
                                                    <div style="margin-left:100px;">
                                                        <div class="form-group">
                                                            <label for="isMaterialComplete" class="control-label"><b>材料是否齐全：</b></label>
                                                            <input type="radio" id="isMaterialComplete" name="isMaterialComplete" value="true">是
                                                            <input type="radio" name="isMaterialComplete" value="false">否
                                                        </div>
                                                        <div class="form-group">
                                                            <label for="notCompleteReason" class="control-label">如不齐全告知原因：</label>
                                                            <input type="text" class="focus" id="notCompleteReason" name="notCompleteReason">
                                                        </div>
                                                        <div class="form-group">
                                                            <label class="control-label"><b>现场危废管理情况</b></label>
                                                        </div>
                                                        <div class="form-group">
                                                            <label for="isMeetRequire" class="control-label">1.包装方式是否满足需求</label>
                                                            <input type="radio" id="isMeetRequire" name="isMeetRequire" value="true">是
                                                            <input type="radio" name="isMeetRequire" value="false">否
                                                        </div>
                                                        <div class="form-group">
                                                            <label for="isCooperate" class="control-label">如不满足客户是否愿意配合公司改善包装方式</label>
                                                            <input type="radio" id="isCooperate" name="isCooperate" value="true">是
                                                            <input type="radio" name="isCooperate" value="false">否
                                                        </div>
                                                        <div class="form-group">
                                                            <label for="isDedicate" class="control-label">2.是否设有专人管理危废</label>
                                                            <input type="radio" id="isDedicate" name="isDedicate" value="true">是
                                                            <input type="radio" name="isDedicate" value="false">否
                                                        </div>
                                                        <div class="form-group">
                                                            <label for="acceptIntend1" class="control-label">接受意愿</label>
                                                            <input type="radio" id="acceptIntend1" name="acceptIntend1" value="high">高
                                                            <input type="radio" name="acceptIntend1" value="medium">中
                                                            <input type="radio" name="acceptIntend1" value="low">低
                                                        </div>
                                                        <div class="row">
                                                            <div class="form-horizontal col-md-8"></div>
                                                            <div class="form-horizontal col-md-4">
                                                                <div class="form-group">
                                                                    <label class="col-sm-4 control-label text-oneLine"><b>签名：</b></label>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td class="cen">安全环保部审核意见</td>
                                                <td>
                                                    <div style="margin-left:100px;">
                                                        <div class="form-group">
                                                            <label for="model-contactPhone" class="control-label"><b>风险评估</b></label>
                                                        </div>
                                                        <div class="form-group">
                                                            <label for="model-contactPhone" class="control-label">1.火灾风险</label>
                                                            <table class="table table-bordered" style="width: 98%">
                                                                <tr>
                                                                    <td class="cen">火灾风险</td>
                                                                    <td class="cen">高</td>
                                                                    <td class="cen">中</td>
                                                                    <td class="cen">低</td>
                                                                </tr>
                                                                <tr>
                                                                    <td class="cen">危废名称</td>
                                                                    <td class="cen"><input type="text" class="focus" id="wasteName1" name="wasteName1"></td>
                                                                    <td class="cen"><input type="text" class="focus" id="wasteName2" name="wasteName2"></td>
                                                                    <td class="cen"><input type="text" class="focus" id="wasteName3" name="wasteName3"></td>
                                                                </tr>
                                                            </table>
                                                        </div>
                                                        <div class="form-group">
                                                            <label for="model-contactPhone" class="control-label">2.毒性风险</label>
                                                            <table class="table table-bordered" style="width: 98%">
                                                                <tr>
                                                                    <td class="cen">毒性风险</td>
                                                                    <td class="cen">高</td>
                                                                    <td class="cen">中</td>
                                                                    <td class="cen">低</td>
                                                                </tr>
                                                                <tr>
                                                                    <td class="cen">危废名称</td>
                                                                    <td class="cen"><input type="text" class="focus" id="wasteName4" name="wasteName4"></td>
                                                                    <td class="cen"><input type="text" class="focus" id="wasteName5" name="wasteName5"></td>
                                                                    <td class="cen"><input type="text" class="focus" id="wasteName6" name="wasteName6"></td>
                                                                </tr>
                                                            </table>
                                                        </div>
                                                        <div class="form-group">
                                                            <label for="otherRisk" class="control-label">3.其他可能风险：</label>
                                                            <input type="text" class="focus" id="otherRisk" name="otherRisk">
                                                            <br>
                                                            <br>
                                                        </div>
                                                        <div class="form-group">
                                                            <label for="acceptIntend2" class="control-label">接受建议：</label><br>
                                                            <input type="radio" id="acceptIntend2" name="acceptIntend2" value="accept">可接受<br>
                                                            <input type="radio" name="acceptIntend2" value="unaccept">不可接受(说明原因)：<input type="text" class="focus" id="unacceptReason2" name="unacceptReason2"><br>
                                                            <input type="radio" name="acceptIntend2" value="condition">有条件接受(说明条件)：<input type="text" class="focus" id="conditionReason2" name="conditionReason2"><br>
                                                        </div>
                                                        <br>
                                                        <div class="row">
                                                            <div class="form-horizontal col-md-8"></div>
                                                            <div class="form-horizontal col-md-4">
                                                                <div class="form-group">
                                                                    <label class="col-sm-4 control-label text-oneLine"><b>签名：</b></label>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td class="cen">生产技术部审核意见</td>
                                                <td>
                                                    <div style="margin-left:100px;">
                                                        <div class="form-group">
                                                            <label for="model-contactPhone" class="control-label"><b>库存评估</b></label>
                                                        </div>
                                                        <div class="form-group">
                                                            <label for="isStore" class="control-label"><b>1.目前是否可以存放：</b></label>
                                                            <input type="radio" id="isStore" name="isStore" value="true">是
                                                            <input type="radio" name="isStore" value="false">否
                                                        </div>
                                                        <div class="form-group">
                                                            <label for="storeReason" class="control-label">如否请告知原因：</label>
                                                            <input type="text" class="focus" id="storeReason" name="storeReason">
                                                        </div>
                                                        <div class="form-group">
                                                            <label for="isProcess" class="control-label"><b>2.目前工艺是否可以处理：</b></label>
                                                            <input type="radio" id="isProcess" name="isProcess" value="true">是
                                                            <input type="radio" name="isProcess" value="false">否
                                                        </div>
                                                        <div class="form-group">
                                                            <label for="processReason" class="control-label">如否请告知原因：</label>
                                                            <input type="text" class="focus" id="processReason" name="processReason">
                                                        </div>
                                                        <div class="form-group">
                                                            <label for="acceptIntend3" class="control-label">接受建议：</label><br>
                                                            <input type="radio" id="acceptIntend3" name="acceptIntend3" value="accept">可接受<br>
                                                            <input type="radio" name="acceptIntend3" value="unaccept">不可接受(说明原因)：<input class="focus" type="text" id="unacceptReason3" name="unacceptReason3"><br>
                                                            <input type="radio" name="acceptIntend3" value="condition">有条件接受(说明条件)：<input class="focus" type="text" id="conditionReason3" name="conditionReason3"><br>
                                                        </div>
                                                        <br>
                                                        <div class="row">
                                                            <div class="form-horizontal col-md-8"></div>
                                                            <div class="form-horizontal col-md-4">
                                                                <div class="form-group">
                                                                    <label class="col-sm-4 control-label text-oneLine"><b>签名：</b></label>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </td>
                                            </tr>
                                        </table>
                                    </form>
                                </div>
                            </div>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-primary" id="examineBtn">审批</button>
                    <button type="button" class="btn btn-danger" id="backBtn">驳回</button>
                    <button type="button" class="btn btn-default" data-dismiss="modal">关闭</button>
                </div>
                </div>
            </div>
        </div>
    </div>
    <!-- 查看危废数据模态框 -->
    <div class="modal fade bs-example-modal-lg" id="appointModal2" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
        <div class="modal-dialog modal-lg" role="document" id="print1">
            <div class="modal-content" >
                <div style="margin: 5%;">
                    <div class="modal-header">
                        <img src="image/logo1.png">
                        <div style="display:inline-block;">
                            <h4 class="modal-title text-center" id="myModalLabel3">北控安耐得环保科技发展常州有限公司</h4>
                            <br>
                            <h4 class="modal-title1 text-center" id="myModalLabel4">危险废弃物数据调查表</h4>
                        </div>
                    </div>
                    <div class="row">
                        <div class="form-group">
                            <div class="col-md-8"></div>
                            <div class="input-group">
                                <label class="col-sm-4 control-label text-oneLine">调查表编号</label>
                                <div class="col-xs-8">
                                    <input type="text" class="css" id="model-questionnaireId2" name="questionnaireId" readonly>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="modal-body">
                        <h4><b>1.危废生产单位基本信息</b></h4>
                        <form id="model-appoint2" method="post">
                            <div class="row">
                                <div class="form-horizontal col-md-6">
                                    <div class="form-group">
                                        <label for="model-companyName" class="control-label col-sm-4 ">企业名称</label>
                                        <input type="text" class="css" id="model-companyName2" name="companyName" readonly>
                                    </div>
                                    <div class="form-group">
                                        <label for="model-contactName" class="control-label col-sm-4 ">联系人</label>
                                        <input type="text" class="css" id="model-contactName2" name="contactName">
                                    </div>
                                    <div class="form-group">
                                        <label for="model-contactName" class="control-label col-sm-4 ">所属行业</label>
                                        <input type="text" class="css" id="model-industry2" name="industry">
                                    </div>
                                    <div class="form-group">
                                        <label for="model-contactName" class="control-label col-sm-4 ">填报人</label>
                                        <input type="text" class="css" id="model-author2" name="author">
                                    </div>
                                </div>
                                <div class="form-horizontal col-md-6">
                                    <div class="form-group">
                                        <label for="model-contactPhone" class="control-label col-sm-4 ">地址</label>
                                        <input type="text" class="css" id="model-location2" name="location">
                                    </div>
                                    <div class="form-group">
                                        <label for="model-contactPhone" class="control-label col-sm-4 ">联系电话</label>
                                        <input type="text" class="css" id="model-phone2" name="phone">
                                    </div>
                                    <div class="form-group">
                                        <label for="model-contactPhone" class="control-label col-sm-4 ">主要产品</label>
                                        <input type="text" class="css" id="model-product2" name="product">
                                    </div>
                                    <div class="form-group">
                                        <label for="model-contactPhone" class="control-label col-sm-4 ">填表日期</label>
                                        <input type="text" class="css" id="model-time2" name="time">
                                    </div>
                                </div>
                            </div>
                        </form>
                        <h4><b>2.危废产生中使用的主要原料、辅料和有可能带入的化学物质</b></h4>
                        <form id="model-appoint3" method="post">
                            <table class="table table-bordered">
                                <thead>
                                    <tr>
                                        <th class="text-center">序号</th>
                                        <th class="text-center">含化学物质主要原材料</th>
                                        <th class="text-center">含化学物质辅料</th>
                                        <th class="text-center">可能带入的化学物质</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td class="text-center">1</td>
                                        <td class="text-center"><input class="focus" type="text" maxlength="20" name="rawWastes[0].mainMaterial"></td>
                                        <td class="text-center"><input class="focus" type="text" maxlength="20" name="rawWastes[0].auxMaterial"></td>
                                        <td class="text-center"><input class="focus" type="text" maxlength="20" name="rawWastes[0].draginMaterial"></td>
                                    </tr>
                                    <tr id="raw1">
                                        <td colspan="4">
                                            <b>特别关注的物质：</b>
                                            请确认原料、辅料、废料或工艺是否含有下列物质
                                        </td>
                                    </tr>
                                    <tr>
                                        <td colspan="4" rowspan="4">
                                                <div class="row">
                                                    <div class="form-horizontal col-md-3">
                                                        <label>
                                                            <input type="checkbox" name="wasteInclusionTypeList" value="1"> 过氯化物
                                                        </label>
                                                    </div>
                                                    <div  class="form-horizontal col-md-3">
                                                        <label>
                                                            <input type="checkbox" name="wasteInclusionTypeList" value="5"> 过氧化物
                                                        </label>
                                                    </div>
                                                    <div  class="form-horizontal col-md-3">
                                                        <label>
                                                            <input type="checkbox" name="wasteInclusionTypeList" value="9"> 有机氰
                                                        </label>
                                                    </div>
                                                    <div  class="form-horizontal col-md-3">
                                                        <label>
                                                            <input type="checkbox" name="wasteInclusionTypeList" value="13"> 爆炸物
                                                        </label>
                                                    </div>
                                                </div>
                                                <div class="row">
                                                    <div  class="form-horizontal col-md-3">
                                                        <label>
                                                            <input type="checkbox" name="wasteInclusionTypeList" value="2"> 有机氮
                                                        </label>
                                                    </div>
                                                    <div  class="form-horizontal col-md-3">
                                                        <label>
                                                            <input type="checkbox" name="wasteInclusionTypeList" value="6"> 放射性物质
                                                        </label>
                                                    </div>
                                                    <div  class="form-horizontal col-md-3">
                                                        <label>
                                                            <input type="checkbox" name="wasteInclusionTypeList" value="10"> 酸酐
                                                        </label>
                                                    </div>
                                                    <div  class="form-horizontal col-md-3">
                                                        <label>
                                                            <input type="checkbox" name="wasteInclusionTypeList" value="14"> 生化废料
                                                        </label>
                                                    </div>
                                                </div>
                                                <div class="row">
                                                    <div  class="form-horizontal col-md-3">
                                                        <label>
                                                            <input type="checkbox" name="wasteInclusionTypeList" value="3"> 乙醚
                                                        </label>
                                                    </div>
                                                    <div  class="form-horizontal col-md-3">
                                                        <label>
                                                            <input type="checkbox" name="wasteInclusionTypeList" value="7"> 催泪物质
                                                        </label>
                                                    </div>
                                                    <div  class="form-horizontal col-md-3">
                                                        <label>
                                                            <input type="checkbox" name="wasteInclusionTypeList" value="11"> 硒化物
                                                        </label>
                                                    </div>
                                                    <div  class="form-horizontal col-md-3">
                                                        <label>
                                                            <input type="checkbox" name="wasteInclusionTypeList" value="15"> 苯酚
                                                        </label>
                                                    </div>
                                                </div>
                                                <div class="row">
                                                    <div  class="form-horizontal col-md-3">
                                                        <label>
                                                            <input type="checkbox" name="wasteInclusionTypeList" value="4"> 苯
                                                        </label>
                                                    </div>
                                                    <div  class="form-horizontal col-md-3">
                                                        <label>
                                                            <input type="checkbox" name="wasteInclusionTypeList" value="8"> 多氯联苯-聚氯三联苯
                                                        </label>
                                                    </div>
                                                    <div  class="form-horizontal col-md-3">
                                                        <label>
                                                            <input type="checkbox" name="wasteInclusionTypeList" value="12"> 氧化剂
                                                        </label>
                                                    </div>
                                                    <div  class="form-horizontal col-md-3">
                                                        <label>
                                                            <input type="checkbox" name="wasteInclusionTypeList" value="16"> 还原剂
                                                        </label>
                                                    </div>
                                                </div>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </form>
                        <h4><b>3.危废生产工艺流程描述</b></h4>
                        <form id="model-appoint4" method="post">
                            <table class="table table-bordered">
                                <thead>
                                <tr>
                                    <th class="text-center">序号</th>
                                    <th class="text-center">危废名称</th>
                                    <th class="text-center">生产流程描述</th>
                                    <th class="text-center">现有量(吨)</th>
                                    <th class="text-center">上次处理时间</th>
                                    <th class="text-center">年预计量(吨)</th>
                                    <th class="text-center">包装现状</th>
                                </tr>
                                </thead>
                                <tbody id="body1">
                                <tr>
                                    <td onclick="focusInput(this);">1</td>
                                    <td onclick="focusInput(this);"><input class="focus" type="text" style="width: 100px" maxlength="20" name="wasteProcess[0].code"></td>
                                    <td onclick="focusInput(this);"><input class="focus" type="text" style="width: 100px" maxlength="20" name="wasteProcess[0].description"></td>
                                    <td onclick="focusInput(this);"><input class="focus" type="text" style="width: 100px" maxlength="20" name="wasteProcess[0].quantity"></td>
                                    <td onclick="focusInput(this);"><input class="focus" type="text" style="width: 100px" maxlength="20" name="wasteProcess[0].lastProcessTime"></td>
                                    <td onclick="focusInput(this);"><input class="focus" type="text" style="width: 100px" maxlength="20" name="wasteProcess[0].yearQuantity"></td>
                                    <td>
                                        <input type="checkbox">罐装<br>(材质：<input class="focus" type="text" style="width: 50px" maxlength="5">容积：<input class="focus" type="text" style="width: 50px" maxlength="5">)<br>
                                        <input type="checkbox">桶装<br>(材质：<input class="focus" type="text" style="width: 50px" maxlength="5">容积：<input class="focus" type="text" style="width: 50px" maxlength="5">)<br>
                                        <input type="checkbox">袋装<br>(材质：<input class="focus" type="text" style="width: 50px" maxlength="5">容积：<input class="focus" type="text" style="width: 50px" maxlength="5">)<br>
                                        <input type="checkbox">其他<br>(请说明：<input class="focus" type="text" style="width: 100px" maxlength="14">)
                                    </td>
                                </tr>
                                </tbody>
                            </table>
                        </form>
                        <h4><b>4.危废理化性质</b></h4>
                        <form id="model-appoint5" method="post">
                            <table class="table table-bordered">
                                <tr>
                                    <th class="text-center">序号</th>
                                    <th class="text-center">危废名称</th>
                                    <th class="text-center">危废代码</th>
                                    <th class="text-center" colspan="2">物理形态</th>
                                    <th class="text-center" colspan="6">均质与混合多项物</th>
                                    <th class="text-center" colspan="3">敏感酸性组份</th>
                                </tr>
                                <tr>
                                    <td class="text-center" rowspan="11">1</td>
                                    <td class="text-center" rowspan="11" onclick="focusInput(this);"><input maxlength="8" type="text" class="focus" style="width:100px" name="deriveWastesList[0].name"></td>
                                    <td class="text-center" rowspan="11"><input maxlength="8" type="text" class="focus" style="width:100px" name="deriveWastesList[0].code"></td>
                                    <td class="text-center" rowspan="2">物质形态</td>
                                    <td class="text-center"><input maxlength="8" type="text" class="focus" style="width:100px" name="deriveWastesList[0].formType"></td>
                                    <td class="text-center" colspan="6">
                                        <input maxlength="8" type="radio" name="deriveWastesList[0].isMixture" value="false">均质&nbsp;
                                        <input maxlength="8" type="radio" name="deriveWastesList[0].isMixture" value="true">混合多项物
                                    </td>
                                    <td class="text-center">组份</td>
                                    <td class="text-center">有机</td>
                                    <td class="text-center">无机</td>
                                </tr>
                                <tr>
                                    <td class="text-center"><input maxlength="8" type="text" placeholder="说明" class="focus" style="width:100px" name="deriveWastesList[0].formTypeDetail"></td>
                                    <td class="text-center" rowspan="2" colspan="3">混合多项物混合成分</td>
                                    <td class="text-center" colspan="3">预估含量(%)</td>
                                    <td class="text-center">
                                        <input maxlength="8" type="checkbox" name="deriveWastesList[0].sensitiveElementList[0].chemicalType" value="Chlorine">氯
                                    </td>
                                    <td class="text-center">
                                        <input maxlength="8" type="radio" name="deriveWastesList[0].sensitiveElementList[0].isOrganic" value="true">
                                    </td>
                                    <td class="text-center">
                                        <input maxlength="8" type="radio" name="deriveWastesList[0].sensitiveElementList[0].isOrganic" value="false">
                                    </td>
                                </tr>
                                <tr>
                                    <td class="text-center" rowspan="2">物质气味</td>
                                    <td class="text-center"><input maxlength="8" type="text" class="focus" style="width:100px" name="deriveWastesList[0].smellType"></td>
                                    <td class="text-center">最低</td>
                                    <td class="text-center">平均</td>
                                    <td class="text-center">最高</td>
                                    <td class="text-center">
                                        <input maxlength="8" type="checkbox" name="deriveWastesList[0].sensitiveElementList[1].chemicalType" value="Fluorine">氟
                                    </td>
                                    <td class="text-center">
                                        <input maxlength="8" type="radio" name="deriveWastesList[0].sensitiveElementList[1].isOrganic" value="true">
                                    </td>
                                    <td class="text-center">
                                        <input maxlength="8" type="radio" name="deriveWastesList[0].sensitiveElementList[1].isOrganic" value="false">
                                    </td>
                                </tr>
                                <tr>
                                    <td class="text-center"><input maxlength="8" type="text" placeholder="说明" class="focus" style="width:100px" name="deriveWastesList[0].smellTypeDetail"></td>
                                    <td class="text-center" colspan="3"><input maxlength="8" type="text" class="focus" style="width:100px" name="deriveWastesList[0].mixingElementList[0].name"></td>
                                    <td class="text-center"><input type="text" class="focus" style="width:50px" name="deriveWastesList[0].mixingElementList[0].minimum"></td>
                                    <td class="text-center"><input type="text" class="focus" style="width:50px" name="deriveWastesList[0].mixingElementList[0].average"></td>
                                    <td class="text-center"><input type="text" class="focus" style="width:50px" name="deriveWastesList[0].mixingElementList[0].maximum"></td>
                                    <td class="text-center">
                                        <input maxlength="8" type="checkbox" name="deriveWastesList[0].sensitiveElementList[2].chemicalType" value="Bromine">溴
                                    </td>
                                    <td class="text-center">
                                        <input maxlength="8" type="radio" name="deriveWastesList[0].sensitiveElementList[2].isOrganic" value="true">
                                    </td>
                                    <td class="text-center">
                                        <input maxlength="8" type="radio" name="deriveWastesList[0].sensitiveElementList[2].isOrganic" value="false">
                                    </td>
                                </tr>
                                <tr>
                                    <td class="text-center" rowspan="2">可溶性</td>
                                    <td class="text-center"><input maxlength="8" type="text" class="focus" style="width:100px" name="deriveWastesList[0].solubility"></td>
                                    <td class="text-center" colspan="3"><input maxlength="8" type="text" class="focus" style="width:100px" name="deriveWastesList[0].mixingElementList[1].name"></td>
                                    <td class="text-center"><input type="text" class="focus" style="width:50px" name="deriveWastesList[0].mixingElementList[1].minimum"></td>
                                    <td class="text-center"><input type="text" class="focus" style="width:50px" name="deriveWastesList[0].mixingElementList[1].average"></td>
                                    <td class="text-center"><input type="text" class="focus" style="width:50px" name="deriveWastesList[0].mixingElementList[1].maximum"></td>
                                    <td class="text-center">
                                        <input maxlength="8" type="checkbox" name="deriveWastesList[0].sensitiveElementList[3].chemicalType" value="Iodine">碘
                                    </td>
                                    <td class="text-center">
                                        <input maxlength="8" type="radio" name="deriveWastesList[0].sensitiveElementList[3].isOrganic" value="true">
                                    </td>
                                    <td class="text-center">
                                        <input maxlength="8" type="radio" name="deriveWastesList[0].sensitiveElementList[3].isOrganic" value="false">
                                    </td>
                                </tr>
                                <tr>
                                    <td class="text-center"><input maxlength="8" type="text" placeholder="说明" class="focus" style="width:100px" name="deriveWastesList[0].solubilityDetail"></td>
                                    <td class="text-center" colspan="3"><input maxlength="8" type="text" class="focus" style="width:100px" name="deriveWastesList[0].mixingElementList[2].name"></td>
                                    <td class="text-center"><input type="text" class="focus" style="width:50px" name="deriveWastesList[0].mixingElementList[2].minimum"></td>
                                    <td class="text-center"><input type="text" class="focus" style="width:50px" name="deriveWastesList[0].mixingElementList[2].average"></td>
                                    <td class="text-center"><input type="text" class="focus" style="width:50px" name="deriveWastesList[0].mixingElementList[2].maximum"></td>
                                    <td class="text-center">
                                        <input maxlength="8" type="checkbox" name="deriveWastesList[0].sensitiveElementList[4].chemicalType" value="Sulphur">硫
                                    </td>
                                    <td class="text-center">
                                        <input maxlength="8" type="radio" name="deriveWastesList[0].sensitiveElementList[4].isOrganic" value="true">
                                    </td>
                                    <td class="text-center">
                                        <input maxlength="8" type="radio" name="deriveWastesList[0].sensitiveElementList[4].isOrganic" value="false">
                                    </td>
                                </tr>
                                <tr>
                                    <td class="text-center" rowspan="2">储存温度</td>
                                    <td class="text-center">
                                        <input maxlength="8" type="radio" name="deriveWastesList[0].isLowTemp" value="false">常温
                                    </td>
                                    <td class="text-center" colspan="3"><input maxlength="8" type="text" class="focus" style="width:100px" name="deriveWastesList[0].mixingElementList[3].name"></td>
                                    <td class="text-center"><input type="text" class="focus" style="width:50px" name="deriveWastesList[0].mixingElementList[3].minimum"></td>
                                    <td class="text-center"><input type="text" class="focus" style="width:50px" name="deriveWastesList[0].mixingElementList[3].average"></td>
                                    <td class="text-center"><input type="text" class="focus" style="width:50px" name="deriveWastesList[0].mixingElementList[3].maximum"></td>
                                    <td class="text-center">
                                        <input maxlength="8" type="checkbox" name="deriveWastesList[0].sensitiveElementList[5].chemicalType" value="Phosphorus">磷
                                    </td>
                                    <td class="text-center">
                                        <input maxlength="8" type="radio" name="deriveWastesList[0].sensitiveElementList[5].isOrganic" value="true">
                                    </td>
                                    <td class="text-center">
                                        <input maxlength="8" type="radio" name="deriveWastesList[0].sensitiveElementList[5].isOrganic" value="false">
                                    </td>
                                </tr>
                                <tr>
                                    <td class="text-center">
                                        <input maxlength="8" type="radio" name="deriveWastesList[0].isLowTemp" value="true">低温<br><input maxlength="8" type="text" style="width:50px" name="deriveWastesList[0].lowTemp">℃
                                    </td>
                                    <td class="text-center" colspan="3"><input maxlength="8" type="text" class="focus" style="width:100px" name="deriveWastesList[0].mixingElementList[4].name"></td>
                                    <td class="text-center"><input type="text" class="focus" style="width:50px" name="deriveWastesList[0].mixingElementList[4].minimum"></td>
                                    <td class="text-center"><input type="text" class="focus" style="width:50px" name="deriveWastesList[0].mixingElementList[4].average"></td>
                                    <td class="text-center"><input type="text" class="focus" style="width:50px" name="deriveWastesList[0].mixingElementList[4].maximum"></td>
                                    <td class="text-center">
                                        <input maxlength="8" type="checkbox" name="deriveWastesList[0].sensitiveElementList[6].chemicalType" value="Nitrogen">氮
                                    </td>
                                    <td class="text-center">
                                        <input maxlength="8" type="radio" name="deriveWastesList[0].sensitiveElementList[6].isOrganic" value="true">
                                    </td>
                                    <td class="text-center">
                                        <input maxlength="8" type="radio" name="deriveWastesList[0].sensitiveElementList[6].isOrganic" value="false">
                                    </td>
                                </tr>
                                <tr>
                                    <td class="text-center" rowspan="3">其他</td>
                                    <td class="text-center" rowspan="3">如为精馏残渣其可溶温度:<input maxlength="8" type="text" style="width:50px" name="deriveWastesList[0].solubleTemp">℃</td>
                                    <td class="text-center" colspan="3"><input maxlength="8" type="text" class="focus" style="width:100px" name="deriveWastesList[0].mixingElementList[5].name"></td>
                                    <td class="text-center"><input type="text" class="focus" style="width:50px" name="deriveWastesList[0].mixingElementList[5].minimum"></td>
                                    <td class="text-center"><input type="text" class="focus" style="width:50px" name="deriveWastesList[0].mixingElementList[5].average"></td>
                                    <td class="text-center"><input type="text" class="focus" style="width:50px" name="deriveWastesList[0].mixingElementList[5].maximum"></td>
                                    <td class="text-center" colspan="3" rowspan="3">
                                        <p class="text-danger">备注:主要成分避免使用废溶剂、废油等笼统描述，尽可能详尽估算出含量</p>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="text-center" colspan="3"><input maxlength="8" type="text" class="focus" style="width:100px" name="deriveWastesList[0].mixingElementList[6].name"></td>
                                    <td class="text-center"><input type="text" class="focus" style="width:50px" name="deriveWastesList[0].mixingElementList[6].minimum"></td>
                                    <td class="text-center"><input type="text" class="focus" style="width:50px" name="deriveWastesList[0].mixingElementList[6].average"></td>
                                    <td class="text-center"><input type="text" class="focus" style="width:50px" name="deriveWastesList[0].mixingElementList[6].maximum"></td>
                                </tr>
                                <tr id="row5">
                                    <td class="text-center" colspan="3"><input maxlength="8" type="text" class="focus" style="width:100px" name="deriveWastesList[0].mixingElementList[7].name"></td>
                                    <td class="text-center"><input type="text" class="focus" style="width:50px" name="deriveWastesList[0].mixingElementList[7].minimum"></td>
                                    <td class="text-center"><input type="text" class="focus" style="width:50px" name="deriveWastesList[0].mixingElementList[7].average"></td>
                                    <td class="text-center"><input type="text" class="focus" style="width:50px" name="deriveWastesList[0].mixingElementList[7].maximum"></td>
                                </tr>
                            </table>
                        </form>
                        <h4><b>5.危废安全告知</b></h4>
                        <form id="model-appoint6" method="post">
                            <div class="row">
                                <div class="form-horizontal col-md-12">
                                    <div class="form-group">
                                        <table class="table table-bordered">
                                            <thead>
                                            <tr>
                                                <th style="width: 50px;" class="text-center">序号</th>
                                                <th style="width: 270px" class="text-center">危废名称</th>
                                                <th class="text-center">特性</th>
                                                <th class="text-center">危废处理个人防护</th>
                                                <th colspan="2" class="text-center">应急对应措施</th>
                                            </tr>
                                            </thead>
                                            <tbody>
                                            <tr>
                                                <td rowspan="6" class="text-center">1</td>
                                                <td rowspan="6" style="width: 270px" onclick="focusInput(this);" class="text-center"><input type="text" style="width:256px" class="focus" name="deriveWastesList[0].name"></td>
                                                <td rowspan="6" style="width: 120px" align="left">
                                                    <input type="checkbox" name="deriveWastesList[0].wasteCharacterList[0]" value="Virulence">毒性<br>
                                                    <input type="checkbox" name="deriveWastesList[0].wasteCharacterList[1]" value="Flammable">易燃<br>
                                                    <input type="checkbox" name="deriveWastesList[0].wasteCharacterList[2]" value="Sour">酸性<br>
                                                    <input type="checkbox" name="deriveWastesList[0].wasteCharacterList[3]" value="Alkaline">碱性<br>
                                                    <input type="checkbox" name="deriveWastesList[0].wasteCharacterList[4]" value="Explosion">易爆性<br>
                                                    <input type="checkbox" name="deriveWastesList[0].wasteCharacterList[5]" value="Oxidability">氧化性<br>
                                                    <input type="checkbox" name="deriveWastesList[0].wasteCharacterList[6]" value="Reducibility">还原性<br>
                                                    <input type="checkbox" name="deriveWastesList[0].wasteCharacterList[7]" value="WaterFlammable">遇水易燃<br>
                                                    <input type="checkbox" name="deriveWastesList[0].wasteCharacterList[8]" value="WaterVirulence">遇水易释放有毒气体<br>
                                                    <input type="checkbox" name="deriveWastesList[0].wasteCharacterList[9]" value="AirFlammable">接触空气可发生自燃<br>
                                                </td>
                                                <td rowspan="6" style="width: 200px" align="left">
                                                    <input type="checkbox" name="deriveWastesList[0].wasteProtectList[0]" value="ProtectiveGlasses">防护眼镜<br>
                                                    <input type="checkbox" name="deriveWastesList[0].wasteProtectList[1]" value="ProtectiveGarment">防护服<br>
                                                    <input type="checkbox" name="deriveWastesList[0].wasteProtectList[2]" value="ProtectiveMask">防护面罩<br>
                                                    <input type="checkbox" name="deriveWastesList[0].wasteProtectList[3]" value="HalfMask">半面罩<br>
                                                    <input type="checkbox" name="deriveWastesList[0].wasteProtectList[4]" value="CoverMask">全面罩<br>
                                                    <input type="checkbox" name="deriveWastesList[0].wasteProtectList[5]" value="PositiveRespirator">正压呼吸器<br>
                                                    <input type="checkbox" name="deriveWastesList[0].wasteProtectList[6]" value="ProtectiveGloves">防护手套<br>
                                                </td>
                                                <td style="width: 130px">若不慎入眼</td><br>
                                                <td style="width: 245px"><input type="text" style="width:240px" class="focus" name="deriveWastesList[0].eyeMeasures"></td>
                                            </tr>
                                            <tr>
                                                <td style="width: 130px">若接触到皮肤</td>
                                                <td style="width: 245px"><input type="text" style="width:240px" class="focus" name="deriveWastesList[0].skinMeasures"></td>
                                            </tr>
                                            <tr>
                                                <td style="width: 130px">若吞食</td>
                                                <td style="width: 245px"><input type="text" style="width:240px" class="focus" name="deriveWastesList[0].swallowMeasures"></td>
                                            </tr>
                                            <tr>
                                                <td style="width: 130px">若吸入</td>
                                                <td style="width: 245px"><input type="text" style="width:240px" class="focus" name="deriveWastesList[0].suctionMeasures"></td>
                                            </tr>
                                            <tr>
                                                <td style="width: 130px">灭火方法</td>
                                                <td style="width: 245px"><input type="text" style="width:240px" class="focus" name="deriveWastesList[0].putOutFireMeasures"></td>
                                            </tr>
                                            <tr id="row6">
                                                <td style="width: 130px">泄露处理方法</td>
                                                <td style="width: 245px"><input type="text" style="width:240px" class="focus" name="deriveWastesList[0].leakMeasures"></td>
                                            </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>
                        </form>
                        <h4><b>6.请提供《环境影响评价报告表/书》中的"工艺流程与产废环节"相关章节内容</b></h4>
                        <form id="model-appoint7" method="post">
                            <br>
                            <br>
                        </form>
                        <h4><b>7.请提供危险废物成分检测报告(非必须)</b></h4>
                        <form id="model-appoint8" method="post">
                            <br>
                            <br>
                            <p>&nbsp;&nbsp;&nbsp;&nbsp;感谢贵公司的支持，北控安耐得环保科技发展常州有限公司将以上述资料作为运输、储存和处理依据，为了保证我公司员工之
                            安全，请您再次确认上述数据的准确性。</p>
                            <br>
                            <p style="margin-left: 500px">本人确认以上资料准确无误：&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(签名)</p>
                        </form>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-default hidden-print" data-dismiss="modal">关闭</button>
                        <button type="button" class="btn btn-primary hidden-print" onclick="" id="print">打印</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <input type="file" name="excelPath" id="idExcel" style="display:none">
</body>
<style>
    .text-oneLine {
        display:block;            /*内联对象需加*/
        word-break:keep-all;      /* 不换行 */
        white-space:nowrap;       /* 不换行 */
    }
    table th, table td {
        vertical-align: middle!important;
    }
    .css{
        border-style: solid;
        border-top-width: 0px;
        border-right-width: 0px;
        border-bottom-width: 1px;
        border-left-width: 0px
    }
    .cen{
        text-align: center;
        vertical-align: middle!important;
    }
    .focus {
        outline: none;
        border: 0px;
    }
    /*.navbar{*/
        /*margin-bottom: 0px;*/
        /*border-radius: 5px;*/
        /*background: rgb(0,51,102);*/
    /*}*/
    /*.sidebar{*/
        /*margin-bottom: 0px;*/
        /*border-radius: 5px;*/
        /*background: rgb(17,79,142);*/
    /*}*/
    /*.navbar .nav > li > a{*/
        /*color: #000000;*/
    /*}*/
    /*.navbar .nav >li >a:visited{*/
        /*color: rgb(229,229,229);*/
        /*background-color: #0088cc;*/
    /*}*/
    /*.navbar .nav > li > a:hover {*/
        /*color: rgb(33,132,29);*/
        /*background-color: #000000;*/
    /*}*/
    /*.navbar .nav >li >a:active{*/
        /*color: rgb(33,132,29);*/
        /*background-color:rgb(229,229,229);*/
    /*}*/
    /*.navber .nav > li > a:after{*/
        /*color: rgb(33,132,29);*/
        /*background-color: #0088cc;*/
    /*}*/
    /*.sidebar .nav > li > a{*/
        /*color: #000000;*/
    /*}*/
    /*.sidebar .nav > li > a:visited{*/
        /*color: rgb(229,229,229);*/
        /*background-color: #0088cc;*/
    /*}*/
    /*.sidebar .nav > li > a:hover {*/
        /*color: rgb(33,132,29);*/
        /*background-color: #000000;*/
    /*}*/
    /*.sidebar .nav > li > a:active{*/
        /*color: rgb(33,132,29);*/
        /*background-color:rgb(229,229,229);*/
    /*}*/
    /*.sidebar .nav > li > a:after{*/
        /*color: rgb(33,132,29);*/
        /*background-color: #0088cc;*/
    /*}*/
</style>
<script type="text/javascript">
    /**
     * 聚焦输入框
     * @param e
     */
    function focusInput(e) {
        // console.log("you click the td!");
        e.firstChild.focus();
    }
    function clearQuestionnaire() {
        $.ajax({
            type: 'POST',
            url: 'client/clearCurrentQuestionnaire',
            async: false,
            dataType: 'json',
            success: function (result) {
                console.log("信息清空");
            },
            error: function (result) {
                console.log("清空失败");
            }
        });
    }
    /**
     * 获取编号
     * @param item
     * @returns {string}
     */
    function getQuestionnaireId(item) {
        return item.parentElement.parentElement.firstElementChild.nextElementSibling.innerHTML;
    }
    function getCompanyName(item) {
        return item.parentElement.parentElement.firstElementChild.nextElementSibling.nextElementSibling.innerHTML;
    }
    // function viewQuestionnaire(item) {
    //     var id = getQuestionnaireId(item);
    //     $(location).attr('href', 'questionnaire1.html?questionnaireId='+id+'&type=view');
    // }
    function resetViewInfo() {
        $("#appointModal1").find("input:text").val("");
        $("#appointModal1").find("input:radio").removeAttr("checked");
        $("#appointModal1").find("input:checkbox:checked").removeAttr("checked");
        $("#appointModal2").find("input:text").val("");
        $("#appointModal2").find("input:radio").removeAttr("checked");
        $("#appointModal2").find("input:checkbox:checked").removeAttr("checked");
        $("#Opinion").find("input:text").val("");
        $("#Opinion").find("input:radio").removeAttr("checked");
        $(".newLine").remove();
    }
    function viewQuestion(item){
        var id = getQuestionnaireId(item);
        resetViewInfo();
        $.ajax({
            type: "POST",                       // 方法类型
            url: "getQuestionnaireById",               // url
            async : false,                      // 同步：意思是当有返回值以后才会进行后面的js程序
            data: {
                'questionnaireId': id
            },
            dataType: "json",
            success: function (result) {
                console.log(result);
                if (result != undefined) {
                    var data = eval(result);
                    $("#model-questionnaireId2").val(id);
                    $("#model-companyName2").val(data.data.client.companyName);
                    $("#model-contactName2").val(data.data.client.contactName);
                    $("#model-industry2").val(data.data.client.industry);
                    $("#model-author2").val(data.data.author);
                    $("#model-location2").val(data.data.client.location);
                    $("#model-phone2").val(data.data.client.phone);
                    $("#model-product2").val(data.data.client.product);
                    $("#model-time2").val(getTimeStr(data.data.time));
                    for (var i = 0; i < data.data.rawWastesList.length; i++) {
                        if (i > 0) addRawWasteNewLine();
                        var $i = i;
                        $("input[name='rawWastes[" + $i + "].mainMaterial']").val(data.data.rawWastesList[i].mainMaterial);
                        $("input[name='rawWastes[" + $i + "].auxMaterial']").val(data.data.rawWastesList[i].auxMaterial);
                        $("input[name='rawWastes[" + $i + "].draginMaterial']").val(data.data.rawWastesList[i].draginMaterial);
                    }
                    for (var i = 0; i < data.data.wasteInclusionTypeList.length; i++) {
                        var $i = data.data.wasteInclusionTypeList[i].index;
                        $("input[name='wasteInclusionTypeList'][value='" + $i + "']").prop("checked", true);
                    }
                    for (var i = 0; i < data.data.wasteProcessList.length; i++) {
                        if (i > 0) addWasteProcessNewLine();
                        var $i = i;
                        $("input[name='wasteProcess[" + $i + "].code']").val(data.data.wasteProcessList[i].code);
                        $("input[name='wasteProcess[" + $i + "].description']").val(data.data.wasteProcessList[i].description);
                        $("input[name='wasteProcess[" + $i + "].quantity']").val(data.data.wasteProcessList[i].quantity);
                        $("input[name='wasteProcess[" + $i + "].lastProcessTime']").val(getTimeStr(data.data.wasteProcessList[i].lastProcessTime));
                        $("input[name='wasteProcess[" + $i + "].yearQuantity']").val(data.data.wasteProcessList[i].yearQuantity);
                    }
                    for (var i = 0; i < data.data.deriveWastesList.length; i++) {
                        if (i > 0) {
                            addRow5();
                            addRow6();
                        }
                        var $i = i;
                        $("input[name='deriveWastesList[" + $i + "].name']").val(data.data.deriveWastesList[i].name);
                        $("input[name='deriveWastesList[" + $i + "].code']").val(data.data.deriveWastesList[i].code);
                        $("input[name='deriveWastesList[" + $i + "].formType']").val(data.data.deriveWastesList[i].formType != null ? data.data.deriveWastesList[i].formType.name : "");
                        $("input[name='deriveWastesList[" + $i + "].isMixture'][value='" + data.data.deriveWastesList[i].isMixture + "']").prop("checked", true);
                        $("input[name='deriveWastesList[" + $i + "].formTypeDetail']").val(data.data.deriveWastesList[i].formTypeDetail);
                        $("input[name='deriveWastesList[" + $i + "].smellType']").val(data.data.deriveWastesList[i].smellType != null ? data.data.deriveWastesList[i].smellType.name : "");
                        $("input[name='deriveWastesList[" + $i + "].smellTypeDetail']").val(data.data.deriveWastesList[i].smellTypeDetail);
                        $("input[name='deriveWastesList[" + $i + "].solubility']").val(data.data.deriveWastesList[i].solubility != null ? data.data.deriveWastesList[i].solubility.name : "");
                        $("input[name='deriveWastesList[" + $i + "].solubilityDetail']").val(data.data.deriveWastesList[i].solubilityDetail);
                        $("input[name='deriveWastesList[" + $i + "].isLowTemp'][value='" + data.data.deriveWastesList[i].isLowTemp + "']").prop("checked", true);
                        $("input[name='deriveWastesList[" + $i + "].lowTemp']").val(data.data.deriveWastesList[i].lowTemp);
                        $("input[name='deriveWastesList[" + $i + "].solubleTemp']").val(data.data.deriveWastesList[i].solubleTemp);
                        for (var j = 0; j < data.data.deriveWastesList[i].mixingElementList.length; j++) {
                            var $j = j;
                            $("input[name='deriveWastesList[" + $i + "].mixingElementList[" + $j + "].name']").val(data.data.deriveWastesList[i].mixingElementList[j].name);
                            $("input[name='deriveWastesList[" + $i + "].mixingElementList[" + $j + "].minimum']").val(data.data.deriveWastesList[i].mixingElementList[j].minimum);
                            $("input[name='deriveWastesList[" + $i + "].mixingElementList[" + $j + "].average']").val(data.data.deriveWastesList[i].mixingElementList[j].average);
                            $("input[name='deriveWastesList[" + $i + "].mixingElementList[" + $j + "].maximum']").val(data.data.deriveWastesList[i].mixingElementList[j].maximum);
                        }
                        for (var j = 0; j < data.data.deriveWastesList[i].sensitiveElementList.length; j++) {
                            var $j = data.data.deriveWastesList[i].sensitiveElementList[j].chemicalType.index-1;
                            $("input[name='deriveWastesList[" + $i + "].sensitiveElementList[" + $j + "].chemicalType']").prop("checked", true);
                            $("input[name='deriveWastesList[" + $i + "].sensitiveElementList[" + $j + "].isOrganic'][value='" + data.data.deriveWastesList[i].sensitiveElementList[j].isOrganic + "']").prop("checked", true);
                        }
                        for (var j = 0; j < data.data.deriveWastesList[i].wasteCharacterList.length; j++) {
                            var $j = data.data.deriveWastesList[i].wasteCharacterList[j].index-1;
                            $("input[name='deriveWastesList[" + $i + "].wasteCharacterList[" + $j + "]']").prop("checked", true);
                        }
                        for (var j = 0; j < data.data.deriveWastesList[i].wasteProtectList.length; j++) {
                            var $j = data.data.deriveWastesList[i].wasteProtectList[j].index-1;
                            $("input[name='deriveWastesList[" + $i + "].wasteProtectList[" + $j + "]']").prop("checked", true);
                        }
                        $("input[name='deriveWastesList[" + $i + "].eyeMeasures']").val(data.data.deriveWastesList[i].eyeMeasures);
                        $("input[name='deriveWastesList[" + $i + "].skinMeasures']").val(data.data.deriveWastesList[i].skinMeasures);
                        $("input[name='deriveWastesList[" + $i + "].swallowMeasures']").val(data.data.deriveWastesList[i].swallowMeasures);
                        $("input[name='deriveWastesList[" + $i + "].suctionMeasures']").val(data.data.deriveWastesList[i].suctionMeasures);
                        $("input[name='deriveWastesList[" + $i + "].putOutFireMeasures']").val(data.data.deriveWastesList[i].putOutFireMeasures);
                        $("input[name='deriveWastesList[" + $i + "].leakMeasures']").val(data.data.deriveWastesList[i].leakMeasures);
                    }
//                    setTimeout("$('#appointModal2').modal('show');", 3000);
                    // 显示框体
                    $('#appointModal2').modal('show');
                } else { }
            },
            error:function (result) {
                console.log(result);
            }
        });
    }
    var queId;
    /**
     * 审批
     */
    function viewQuestionnaire(item) {
        var id = getQuestionnaireId(item);
        queId = id;
        resetViewInfo();
        $.ajax({
            type: "POST",                       // 方法类型
            url: "getQuestionnaireById",               // url
            async : false,                      // 同步：意思是当有返回值以后才会进行后面的js程序
            data: {
                'questionnaireId': id
            },
            dataType: "json",
            success: function (result) {
                console.log(result);
                if (result != undefined) {
                    var data = eval(result);
                    $("#model-questionnaireId3").val(id);
                    $("#model-companyName3").val(data.data.client.companyName);
                    $("#model-contactName3").val(data.data.client.contactName);
                    $("#model-industry3").val(data.data.client.industry);
                    $("#model-author3").val(data.data.author);
                    $("#model-location3").val(data.data.client.location);
                    $("#model-phone3").val(data.data.client.phone);
                    $("#model-product3").val(data.data.client.product);
                    $("#model-time3").val(getTimeStr(data.data.time));

                    for (var i = 0; i < data.data.rawWastesList.length; i++) {
                        if (i > 0) addRawWasteNewLine2();
                        var $i = i;
                        $("input[name='rawWastes[" + $i + "].mainMaterial']").val(data.data.rawWastesList[i].mainMaterial);
                        $("input[name='rawWastes[" + $i + "].auxMaterial']").val(data.data.rawWastesList[i].auxMaterial);
                        $("input[name='rawWastes[" + $i + "].draginMaterial']").val(data.data.rawWastesList[i].draginMaterial);
                    }
                    for (var i = 0; i < data.data.wasteInclusionTypeList.length; i++) {
                        var $i = data.data.wasteInclusionTypeList[i].index;
                        $("input[name='wasteInclusionTypeList2'][value='" + $i + "']").prop("checked", true);
                    }
                    for (var i = 0; i < data.data.wasteProcessList.length; i++) {
                        if (i > 0) addWasteProcessNewLine2();
                        var $i = i;
                        $("input[name='wasteProcess[" + $i + "].code']").val(data.data.wasteProcessList[i].code);
                        $("input[name='wasteProcess[" + $i + "].description']").val(data.data.wasteProcessList[i].description);
                        $("input[name='wasteProcess[" + $i + "].quantity']").val(data.data.wasteProcessList[i].quantity);
                        $("input[name='wasteProcess[" + $i + "].lastProcessTime']").val(getTimeStr(data.data.wasteProcessList[i].lastProcessTime));
                        $("input[name='wasteProcess[" + $i + "].yearQuantity']").val(data.data.wasteProcessList[i].yearQuantity);
                    }
                    for (var i = 0; i < data.data.deriveWastesList.length; i++) {
                        if (i > 0) {
                            addRow3();
                            addRow4();
                        }
                        var $i = i;
                        $("input[name='deriveWastesList[" + $i + "].name']").val(data.data.deriveWastesList[i].name);
                        $("input[name='deriveWastesList[" + $i + "].code']").val(data.data.deriveWastesList[i].code);
                        $("input[name='deriveWastesList[" + $i + "].formType']").val(data.data.deriveWastesList[i].formType != null ? data.data.deriveWastesList[i].formType.name : "");
                        $("input[name='deriveWastesList[" + $i + "].isMixture'][value='" + data.data.deriveWastesList[i].isMixture + "']").prop("checked", true);
                        $("input[name='deriveWastesList[" + $i + "].formTypeDetail']").val(data.data.deriveWastesList[i].formTypeDetail);
                        $("input[name='deriveWastesList[" + $i + "].smellType']").val(data.data.deriveWastesList[i].smellType != null ? data.data.deriveWastesList[i].smellType.name : "");
                        $("input[name='deriveWastesList[" + $i + "].smellTypeDetail']").val(data.data.deriveWastesList[i].smellTypeDetail);
                        $("input[name='deriveWastesList[" + $i + "].solubility']").val(data.data.deriveWastesList[i].solubility != null ? data.data.deriveWastesList[i].solubility.name : "");
                        $("input[name='deriveWastesList[" + $i + "].solubilityDetail']").val(data.data.deriveWastesList[i].solubilityDetail);
                        $("input[name='deriveWastesList[" + $i + "].isLowTemp'][value='" + data.data.deriveWastesList[i].isLowTemp + "']").prop("checked", true);
                        $("input[name='deriveWastesList[" + $i + "].lowTemp']").val(data.data.deriveWastesList[i].lowTemp);
                        $("input[name='deriveWastesList[" + $i + "].solubleTemp']").val(data.data.deriveWastesList[i].solubleTemp);
                        for (var j = 0; j < data.data.deriveWastesList[i].mixingElementList.length; j++) {
                            var $j = j;
                            $("input[name='deriveWastesList[" + $i + "].mixingElementList[" + $j + "].name']").val(data.data.deriveWastesList[i].mixingElementList[j].name);
                            $("input[name='deriveWastesList[" + $i + "].mixingElementList[" + $j + "].minimum']").val(data.data.deriveWastesList[i].mixingElementList[j].minimum);
                            $("input[name='deriveWastesList[" + $i + "].mixingElementList[" + $j + "].average']").val(data.data.deriveWastesList[i].mixingElementList[j].average);
                            $("input[name='deriveWastesList[" + $i + "].mixingElementList[" + $j + "].maximum']").val(data.data.deriveWastesList[i].mixingElementList[j].maximum);
                        }
                        for (var j = 0; j < data.data.deriveWastesList[i].sensitiveElementList.length; j++) {
                            var $j = data.data.deriveWastesList[i].sensitiveElementList[j].chemicalType.index-1;
                            $("input[name='deriveWastesList[" + $i + "].sensitiveElementList[" + $j + "].chemicalType']").prop("checked", true);
                            $("input[name='deriveWastesList[" + $i + "].sensitiveElementList[" + $j + "].isOrganic'][value='" + data.data.deriveWastesList[i].sensitiveElementList[j].isOrganic + "']").attr("checked", true);
                        }
                        for (var j = 0; j < data.data.deriveWastesList[i].wasteCharacterList.length; j++) {
                            var $j = data.data.deriveWastesList[i].wasteCharacterList[j].index-1;
                            $("input[name='deriveWastesList[" + $i + "].wasteCharacterList[" + $j + "]']").prop("checked", true);
                        }
                        for (var j = 0; j < data.data.deriveWastesList[i].wasteProtectList.length; j++) {
                            var $j = data.data.deriveWastesList[i].wasteProtectList[j].index-1;
                            $("input[name='deriveWastesList[" + $i + "].wasteProtectList[" + $j + "]']").prop("checked", true);
                        }
                        $("input[name='deriveWastesList[" + $i + "].eyeMeasures']").val(data.data.deriveWastesList[i].eyeMeasures);
                        $("input[name='deriveWastesList[" + $i + "].skinMeasures']").val(data.data.deriveWastesList[i].skinMeasures);
                        $("input[name='deriveWastesList[" + $i + "].swallowMeasures']").val(data.data.deriveWastesList[i].swallowMeasures);
                        $("input[name='deriveWastesList[" + $i + "].suctionMeasures']").val(data.data.deriveWastesList[i].suctionMeasures);
                        $("input[name='deriveWastesList[" + $i + "].putOutFireMeasures']").val(data.data.deriveWastesList[i].putOutFireMeasures);
                        $("input[name='deriveWastesList[" + $i + "].leakMeasures']").val(data.data.deriveWastesList[i].leakMeasures);
                    }
                    if (data.data.isExamined) {
                        $("input[name='isMaterialComplete'][value='" + data.data.isMaterialComplete + "']").prop('checked', true);
                        $("#notCompleteReason").val(data.data.notCompleteReason);
                        $("input[name='isMeetRequire'][value='" + data.data.isMeetRequire + "']").prop('checked', true);
                        $("input[name='isCooperate'][value='" + data.data.isCooperate + "']").prop('checked', true);
                        $("input[name='isDedicate'][value='" + data.data.isDedicate + "']").prop('checked', true);
                        $("input[name='acceptIntend1'][value='" + data.data.acceptIntend1 + "']").prop('checked', true);
                        $("input[name='acceptIntend2'][value='" + data.data.acceptIntend2 + "']").prop('checked', true);
                        $("input[name='acceptIntend3'][value='" + data.data.acceptIntend3 + "']").prop('checked', true);
                        $("#wasteName1").val(data.data.wasteName1);
                        $("#wasteName2").val(data.data.wasteName2);
                        $("#wasteName3").val(data.data.wasteName3);
                        $("#wasteName4").val(data.data.wasteName4);
                        $("#wasteName5").val(data.data.wasteName5);
                        $("#wasteName6").val(data.data.wasteName6);
                        $("#otherRisk").val(data.data.otherRisk);
                        $("#unacceptReason2").val(data.data.unacceptReason2);
                        $("#conditionReason2").val(data.data.conditionReason2);
                        $("#unacceptReason3").val(data.data.unacceptReason3);
                        $("#conditionReason3").val(data.data.conditionReason3);
                        $("#storeReason").val(data.data.storeReason);
                        $("#processReason").val(data.data.processReason);
                        $("input[name='isStore'][value='" + data.data.isStore + "']").prop('checked', true);
                        $("input[name='isProcess'][value='" + data.data.isProcess + "']").prop('checked', true);
                    }
                } else { }
            },
            error:function (result) {
                console.log(result);
            }
        });

        // 显示框体
        $('#appointModal1').modal('show');

    }
    function adjustQuestionnaire(item) {
        var id = getQuestionnaireId(item);
        $(location).attr('href', 'questionnaire1.html?questionnaireId='+id);
    }
    // 审批通过
    $('#examineBtn').click(function () {
        examineQuestionnaire(queId);
    });
    // 驳回问卷
    $('#backBtn').click(function () {
        backQuestionnaireById(queId);
    });
    /**
     * 审批问卷
     */
    function examineQuestionnaire(id) {
        var r = confirm("审批通过该调查表吗？");
        if (r) {
            var data = {
                questionnaireId: id,
                isMaterialComplete: $("input[name='isMaterialComplete']:checked").val(),
                notCompleteReason: $("#notCompleteReason").val(),
                isMeetRequire: $("input[name='isMeetRequire']:checked").val(),
                isCooperate: $("input[name='isCooperate']:checked").val(),
                isDedicate: $("input[name='isDedicate']:checked").val(),
                acceptIntend1: $("input[name='acceptIntend1']:checked").val(),
                wasteName1: $("#wasteName1").val(),
                wasteName2: $("#wasteName2").val(),
                wasteName3: $("#wasteName3").val(),
                wasteName4: $("#wasteName4").val(),
                wasteName5: $("#wasteName5").val(),
                wasteName6: $("#wasteName6").val(),
                otherRisk: $("#otherRisk").val(),
                acceptIntend2: $("input[name='acceptIntend2']:checked").val(),
                unacceptReason2: $("#unacceptReason2").val(),
                conditionReason2: $("#conditionReason2").val(),
                isStore: $("input[name='isStore']:checked").val(),
                storeReason: $("#storeReason").val(),
                isProcess: $("input[name='isProcess']:checked").val(),
                processReason: $("#processReason").val(),
                acceptIntend3: $("input[name='acceptIntend3']:checked").val(),
                unacceptReason3: $("#unacceptReason3").val(),
                conditionReason3: $("#conditionReason3").val(),
            };
            console.log(data);
            $.ajax({
                type: "POST",                       // 方法类型
                url: "examineQuestionnaire",               // url
                async : false,                      // 同步：意思是当有返回值以后才会进行后面的js程序
                data: JSON.stringify(data),
                dataType: "json",
                contentType: "application/json; charset=utf-8",
                success: function (result) {
                    console.log(result);
                    if (result != undefined) {
                        alert(result.message);
                        window.location.reload();
                    } else { }
                },
                error:function (result) {
                    console.log(result);
                }
            });
        }
    }
    function backQuestionnaireById(id) {
        var r = confirm("驳回该调查表吗？");
        if (r) {
            var data = {
                questionnaireId: id,
                isMaterialComplete: $("input[name='isMaterialComplete']:checked").val(),
                notCompleteReason: $("#notCompleteReason").val(),
                isMeetRequire: $("input[name='isMeetRequire']:checked").val(),
                isCooperate: $("input[name='isCooperate']:checked").val(),
                isDedicate: $("input[name='isDedicate']:checked").val(),
                acceptIntend1: $("input[name='acceptIntend1']:checked").val(),
                wasteName1: $("#wasteName1").val(),
                wasteName2: $("#wasteName2").val(),
                wasteName3: $("#wasteName3").val(),
                wasteName4: $("#wasteName4").val(),
                wasteName5: $("#wasteName5").val(),
                wasteName6: $("#wasteName6").val(),
                otherRisk: $("#otherRisk").val(),
                acceptIntend2: $("input[name='acceptIntend2']:checked").val(),
                unacceptReason2: $("#unacceptReason2").val(),
                conditionReason2: $("#conditionReason2").val(),
                isStore: $("input[name='isStore']:checked").val(),
                storeReason: $("#storeReason").val(),
                isProcess: $("input[name='isProcess']:checked").val(),
                processReason: $("#processReason").val(),
                acceptIntend3: $("input[name='acceptIntend3']:checked").val(),
                unacceptReason3: $("#unacceptReason3").val(),
                conditionReason3: $("#conditionReason3").val(),
            };
            console.log(data);
            $.ajax({
                type: "POST",                       // 方法类型
                url: "backQuestionnaire",               // url
                async : false,                      // 同步：意思是当有返回值以后才会进行后面的js程序
                data: JSON.stringify(data),
                dataType: "json",
                contentType: "application/json; charset=utf-8",
                success: function (result) {
                    console.log(result);
                    if (result != undefined) {
                        alert(result.message);
                        window.location.reload();
                    } else { }
                },
                error:function (result) {
                    console.log(result);
                }
            });
        }
    }
    /**
     * 签收问卷
     */
    function signInQuestionnaire(item) {
        var id = getQuestionnaireId(item);
        $.ajax({
            type: "POST",                       // 方法类型
            url: "signInQuestionnaire",               // url
            async : false,                      // 同步：意思是当有返回值以后才会进行后面的js程序
            data: {
                'questionnaireId': id
            },
            dataType: "json",
            success: function (result) {
                console.log(result);
                if (result != undefined) {
                    alert("签收成功");
                    window.location.reload();
                } else { }
            },
            error:function (result) {
                console.log(result);
            }
        });
    }
    /**
     * 退回问卷
     * @param item
     */
    function backQuestionnaire(item) {
        var id = getQuestionnaireId(item);
        $.ajax({
            type: "POST",                       // 方法类型
            url: "backQuestionnaire",               // url
            async : false,                      // 同步：意思是当有返回值以后才会进行后面的js程序
            data: {
                'questionnaireId': id
            },
            dataType: "json",
            success: function (result) {
                console.log(result);
                if (result != undefined) {
                    alert("退回成功");
                    window.location.reload();
                } else { }
            },
            error:function (result) {
                console.log(result);
            }
        });
    }
    /**
     * 签收勾选问卷
     */
    function signInQuestionnaireByCheckBox() {
        var items = $("input[type='checkbox']:checked");

        function signInQuestionnaireById(id) {
            $.ajax({
                type: "POST",                       // 方法类型
                url: "signInQuestionnaire",               // url
                async : false,                      // 同步：意思是当有返回值以后才会进行后面的js程序
                data: {
                    'questionnaireId': id
                },
                dataType: "json",
                success: function (result) {
                    console.log(result);
                },
                error:function (result) {
                    console.log(result);
                }
            });
        }
        if (items.length > 0) {
            items.each(function () {
                var id = getIdByCheckBox($(this));
                signInQuestionnaireById(id);
            });
            alert("签收成功");
            window.location.reload();
        } else {
            alert("未选择任何调查表");
        }
    }
    /**
     * 退回勾选问卷
     */
    function backQuestionnaireByCheckBox() {
        var items = $("input[type='checkbox']:checked");

        function backQuestionnaireById(id) {
            $.ajax({
                type: "POST",                       // 方法类型
                url: "backQuestionnaire",           // url
                async : false,                      // 同步：意思是当有返回值以后才会进行后面的js程序
                data: {
                    'questionnaireId': id
                },
                dataType: "json",
                success: function (result) {
                    console.log(result);
                },
                error:function (result) {
                    console.log(result);
                }
            });
        }
        if (items.length > 0) {
            items.each(function () {
                var id = getIdByCheckBox($(this));
                console.log(id);
                backQuestionnaireById(id);
            });
            alert("退回成功");
            window.location.reload();
        } else {
            alert("未选择任何调查表");
        }
    }
    /**
     * 通过勾选框获取编号
     * @param item
     * @returns {*}
     */
    function getIdByCheckBox(item) {
        return item.parent().parent().next().text();
    }
    /**
     * 日期格式
     */
    $('.form_datetime').datetimepicker({
        language:  'zh-CN',
        format: 'yyyy-mm-dd hh:ii:ss',
        weekStart: 1,
        todayBtn:  1,
        autoclose: 1,
        todayHighlight: 1,
        startView: 2,
        showMeridian: 1
    });
    /**
     * 显示预约框
     */
    function appointModal(item) {
        var companyName = getCompanyName(item);
        $("#model-companyName").val(companyName);
        // 显示框体
        $('#appointModal').modal('show');
    }
    /**
     * 增加预约单
     */
    function addAppoint() {
        if (validator.form()) {
            var time = getStdTimeStr($("#model-appointTime").val());
            var data = {
                companyName: $("#model-companyName").val(),
                contactName: $("#model-contactName").val(),
                appointTime: time,
                telephone: $("#model-contactPhone").val(),
                comment: $("#model-comment").val()
            };
            $.ajax({
                type: "POST",                            // 方法类型
                url: "addSampleAppoint",                       // url
                async: false,                           // 同步：意思是当有返回值以后才会进行后面的js程序
//                data: JSON.stringify($('#model-appoint').serializeJSON()),
                data: JSON.stringify(data),
                dataType: "json",
                contentType: "application/json; charset=utf-8",
                success: function (result) {
                    console.log(result);
                    if (result != undefined) {
                        alert("保存成功!");
                        window.location.reload();
                    } else {
                        alert("保存失败!");
                    }
                },
                error: function (data, type, err) {
                    var that = this;
                    console.log(that.data);
                    console.log("ajax错误类型：" + type);
                    console.log(err);
                    alert("服务器异常!");
                }
            });
        }
    }

    /**
     * 导出excel
     * @param e
     */
    function exportExcel(e) {
        var name='questionnaire';
        window.open('exportExcel?name=' + name);

    }

    function importExcel() {
        document.getElementById("idExcel").click();
        document.getElementById("idExcel").addEventListener("change",function () {
            console.log("change");
            var eFile = document.getElementById("idExcel").files[0];
            var formFile = new FormData();
            formFile.append("excelFile", eFile);
            formFile.append("tableName", 'questionnaire');
            $.ajax({
                type: "POST",                       // 方法类型
                url: "importExcel",              // url
                async: false,                      // 同步：意思是当有返回值以后才会进行后面的js程序
                dataType: "json",
                data: formFile,
                processData: false,
                contentType: false,
                success: function (result) {
                    if (result != undefined) {
                        console.log(result);
                        if (result.status == "success") {
                            alert(result.message);
                            window.location.reload();
                        } else {
                            alert(result.message);
                        }
                    }
                },
                error: function (result) {
                    console.log(result);
                }
            });
        });

    }
    /*打印*/
    $("#print").click(function() {
        /* Act on the event */
        $("#print1").printThis({
            debug:true,
            importCSS: true,
            importStyle:true,
            //importJs:true,
            //printContainer: true,
            //loadCSS: [ "css/a.css"],
            //loadJs:["/js/bootstrap/3.3.6/bootstrap.min.js","js/jquery/2.0.0/jquery.min.js","js/bootstrap/navbar.js"],
            // pageTitle: "二维码",
            //removeInline: false,
            printDelay: 333,
            copyTagClasses: false,
            //header: null,
            //formValues: false,
            //removeScripts:true
        });
//		alert("等待打印");
    });
</script>
</html>