<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>审批流管理</title>
    <script src="js/jquery/2.0.0/jquery.min.js"></script>
    <script src="js/jquery/2.0.0/jquery.serializejson.js"></script>
    <script src="js/jquery/jquery.validate.min.js"></script>
    <script src="js/jquery/additional-methods.js"></script>
    <script src="js/jquery/messages_zh.js"></script>
    <link href="css/bootstrap/3.3.6/bootstrap.min.css" rel="stylesheet">
    <link href="css/bootstrap/bootstrap-datetimepicker.min.css" rel="stylesheet" media="screen">
    <link href="css/dashboard.css" rel="stylesheet">
    <link href="css/validation.css" rel="stylesheet">
    <script type="text/javascript" src="js/bootstrap/bootstrap-datetimepicker.js" charset="UTF-8"></script>
    <script src="js/bootstrap/3.3.6/bootstrap.min.js"></script>
    <script src="js/bootstrap/bootstrap-datetimepicker.zh-CN.js"></script>
    <script src="js/time.js"></script>
    <script src="js/util.js"></script>
    <link href="css/dropdown-submenu.css" rel="stylesheet">
    <link href="css/bootstrap/navbar.css" rel="stylesheet">
    <script src="js/bootstrap/navbar.js"></script>
    <script src="js/produce/approvalManage.js"></script>
</head>
<body onload="loadPageWayBillList();">
    <!--导航条-->
    <nav class="navbar navbar-inverse navbar-fixed-top float" id="navbar1" style="height: 50px;">
        <div class="main-title">
            <ul class="nav navbar-nav navbar-left navbar-side">
                <li>
                    <a href="#" onclick="$('body').toggleClass('sidebar-collapse');" style="width: 50px">
                        <span class="glyphicon glyphicon-menu-hamburger"></span>
                    </a>
                </li>
            </ul>
        </div>
        <div class="container navbar-left" style="width: 900px;">
            <div class="navbar-header">
                <a class="navbar-brand" href="#"><img src="image/logo2.png"></a>
            </div>
            <div id="navbar" class="collapse navbar-collapse" style="margin-left: 150px;">
                <ul class="nav navbar-nav">

                </ul>
            </div><!--/.nav-collapse -->
        </div>
        <ul class="nav navbar-nav navbar-right">
            <li><a href="todo.html" title="事项">
                <span class="glyphicon glyphicon-bell"></span>
            </a>
            </li>
            <li><a href="#" title="邮件" onclick="goToEmail()"><span class="glyphicon glyphicon-envelope"></span></a></li>
            <li class="dropdown">
                <a href="#" title="我的" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false"><span class="glyphicon glyphicon-user"></span></a>
                <ul class="dropdown-menu">
                    <li><a href="personalInformation.html">个人信息</a></li>
                    <li><a href="admin.html">注销</a></li>
                </ul>
            </li>
        </ul>
    </nav>

    <div class="container-fluid">
        <div class="row">
            <div class="sidebar">
                <!--<h4>博客管理系统(四月)</h4>-->
                <!--<div class="cover">-->
                <!--<h4><img class="img-circle" src="image/icons.png"/></h4>-->
                <!--<b>Hi~ 小主</b>-->
                <!--<p>超级管理员</p>-->
                <!--</div>-->
                <ul class="sidenav animated fadeInUp">
                    <!--<li><a href="#"><span class="glyphicon glyphicon-backward" aria-hidden="true"></span></a></li>-->
                    <li><a class="withripple" href="wastesPlatform.html" id="function_1" onclick="checkAuthority($(this))"><span class="glyphicon glyphicon-list" aria-hidden="true"></span><span class="sidespan">&nbsp;&nbsp;系统概览 </span><span class="iright pull-right">&gt;</span><span class="sr-only">(current)</span></a></li>
                    <li><a class="withripple" href="businessModel.html" id="function_2" onclick="checkAuthority($(this))"><span class="glyphicon glyphicon-user" aria-hidden="true"></span><span class="sidespan">&nbsp;&nbsp;商务管理 </span><span class="iright pull-right">&gt;</span></a></li>
                    <li><a class="withripple" href="compatibilityPlan.html" id="function_3" onclick="checkAuthority($(this))"><span class="glyphicon glyphicon-list" aria-hidden="true"></span><span class="sidespan">&nbsp;&nbsp;配伍计划 </span><span class="iright pull-right">&gt;</span></a></li>
                    <li><a class="withripple" href="receiveManagement.html" id="function_4" onclick="checkAuthority($(this))"><span class="glyphicon glyphicon-log-in" aria-hidden="true"></span><span class="sidespan">&nbsp;&nbsp;接收管理 </span><span class="iright pull-right">&gt;</span></a></li>
                    <li><a class="withripple" href="storageManagement.html" id="function_5" onclick="checkAuthority($(this))"><span class="glyphicon glyphicon-save" aria-hidden="true"></span><span class="sidespan">&nbsp;&nbsp;贮存管理 </span><span class="iright pull-right">&gt;</span></a></li>
                    <li><a class="withripple" href="preprocessingManagement.html" id="function_6" onclick="checkAuthority($(this))"><span class="glyphicon glyphicon-sort-by-attributes-alt" aria-hidden="true"></span><span class="sidespan">&nbsp;&nbsp;预备管理 </span><span class="iright pull-right">&gt;</span></a></li>
                    <li><a class="withripple" href="dispositionManagement.html" id="function_7" onclick="checkAuthority($(this))"><span class="glyphicon glyphicon-retweet" aria-hidden="true"></span><span class="sidespan">&nbsp;&nbsp;处置管理 </span><span class="iright pull-right">&gt;</span></a></li>
                    <li><a class="withripple" href="secondaryManagement.html" id="function_8" onclick="checkAuthority($(this))"><span class="glyphicon glyphicon-tags" aria-hidden="true"></span><span class="sidespan">&nbsp;&nbsp;次生管理 </span><span class="iright pull-right">&gt;</span></a></li>
                    <li><a class="withripple" href="procurementManagement.html" id="function_9" onclick="checkAuthority($(this))"><span class="glyphicon glyphicon-indent-right" aria-hidden="true"></span><span class="sidespan">&nbsp;&nbsp;采购管理 </span><span class="iright pull-right">&gt;</span></a></li>
                    <li><a class="withripple" href="reportManagement.html" id="function_10" onclick="checkAuthority($(this))"><span class="glyphicon glyphicon-edit" aria-hidden="true"></span><span class="sidespan">&nbsp;&nbsp;报表管理 </span><span class="iright pull-right">&gt;</span></a></li>
                    <li><a class="withripple" href="basicData.html" id="function_11" onclick="checkAuthority($(this))"><span class="glyphicon glyphicon-signal" aria-hidden="true"></span><span class="sidespan">&nbsp;&nbsp;基础数据 </span><span class="iright pull-right">&gt;</span></a></li>
                    <li class="active"><a class="withripple" href="infrastructure.html" id="function_12" onclick="checkAuthority($(this))"><span class="glyphicon glyphicon-cog" aria-hidden="true"></span><span class="sidespan">&nbsp;&nbsp;系统设置 </span><span class="iright pull-right">&gt;</span></a></li>
                </ul>
            </div>
        </div>

        <div class="col-sm-9 col-sm-offset-3 col-md-10 col-md-offset-2 main">
            <!--面包屑导航-->
            <div>
                <ol class="breadcrumb">
                    <li><a href="">系统设置</a></li>
                    <li class="active">审批流管理</li>
                </ol>
            </div>
            <h4 class="sub-header">审批流配置</h4>
            <div class="row">
                <div>
                    <!--操作按钮-->
                    <div class="pull-left col-md-6">
                        <a class="btn btn-primary btn-xs" id="function_-616" onclick="check(this); function check(e){if(!checkAuthority($(e))) return false; showNewAddModal();}"><span class="glyphicon glyphicon-plus" aria-hidden="true"></span> 新增</a>
                    </div>
                    <!--查询框-->
                    <div class="input-group col-md-4 pull-right">
                        <input type="text" class="form-control" placeholder="搜索..." id="searchContent">
                        <span class="input-group-btn">
                            <a class="btn btn-default" onclick="searchData();"><span class="glyphicon glyphicon-search" aria-hidden="true"></span> 查询</a>
                            <a class="btn btn-default" onclick="$('#senior').toggle();"><span class="glyphicon glyphicon-cog" aria-hidden="true"></span> 高级查询</a>
                            <a class="btn btn-default" onclick="reset();"><span class="glyphicon glyphicon-cog" aria-hidden="true"></span> 重置</a>
                        </span>
                    </div>
                </div>
            </div>
            <br>
            <div class="panel panel-default" id="senior" style="display: none;">
                <div class="panel-body">
                    <div class="row">
                        <div class="form-horizontal col-md-4">
                            <div class="form-group">
                                <label for="search_type" class="col-sm-4 control-label">审批流类型</label>
                                <div class="col-xs-7">
                                    <input type="text" class="form-control" id="search_type" name="type" onkeyup="enterSearch()">
                                </div>
                            </div>
                        </div>
                        <div class="form-horizontal col-md-4">
                            <div class="form-group">
                                <label for="search_creator" class="col-sm-4 control-label">创建人</label>
                                <div class="col-xs-7">
                                    <input class="form-control" name="creator" id="search_creator" onkeyup="enterSearch()">
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="table">
                <table class="table table-striped table-hover table-condensed">
                    <thead>
                    <tr>
                        <th class="text-center">
                            <label>
                                <input class="checkbox" type="checkbox" value="option1" aria-label="..." name="allSel" id="allSel" onclick="allSelect()">
                            </label>
                        </th>
                        <th class="text-center" onclick="sortTable(this,'')">编号</th>
                        <th class="text-center" onclick="sortTable(this,'')">审批流类型</th>
                        <th class="text-center" onclick="sortTable(this,'')">创建日期</th>
                        <th class="text-center" onclick="sortTable(this,'')">创建人</th>
                        <th class="text-center">操作</th>
                    </tr>
                    </thead>
                    <tbody id="tBody">
                    <tr>
                        <td class="text-center">
                            <label>
                                <input name="select" class="checkbox" type="checkbox" id="blankCheckbox" value="option1" aria-label="...">
                            </label>
                        </td>
                        <td class="text-center"></td>
                        <td class="text-center"></td>
                        <td class="text-center"></td>
                        <td class="text-center"></td>
                        <td class="text-center">
                            <a href="#" id="function_-617" title="编辑" onclick="check(this); function check(e){if(!checkAuthority($(e))) return false; showEditModal(e);}"><span class="glyphicon glyphicon glyphicon-pencil" aria-hidden="true"></span></a>
                            <a href="#" id="function_-618" title="链接配置" onclick="check(this); function check(e){if(!checkAuthority($(e))) return false; hrefShow(e);}"><span class="glyphicon glyphicon-retweet" aria-hidden="true"></span></a>
                            <a href="#" id="function_-619" title="删除" onclick="check(this); function check(e){if(!checkAuthority($(e))) return false; deleteModelById(e);}"><span class="glyphicon glyphicon glyphicon-remove" aria-hidden="true"></span></a>
                        </td>
                    </tr>
                    </tbody>
                </table>
            </div>
            <!--分页-->
            <nav aria-label="Page navigation" style="text-align: center">
                <ol class="pagination" style="width: 900px;">
                    <li id="current" style="display: none"><a href="#"></a></li>
                    <li id="firstPage">
                        <a href='#' onclick="switchPage(0)">首 页</a>
                    </li>
                    <li id="previous">
                        <a href="#" aria-label="Previous">
                            <span aria-hidden="true" onclick="switchPage(parseInt(currentPage)-1);"><span class="glyphicon glyphicon-backward" aria-hidden="true"></span></span>
                        </a>
                    </li>
                    <li><a href="#">1</a></li>
                    <li id="next">
                        <a href="#" aria-label="Next">
                            <span aria-hidden="true" onclick="switchPage(parseInt(currentPage)+1);"><span class="glyphicon glyphicon-forward" aria-hidden="true"></span></span>
                        </a>
                    </li>
                    <li id="endPage">
                        <a href='#' onclick="switchPage(-2)">尾 页</a>
                    </li>
                    <li ><a id="totalPage"></a></li>
                    <li ><a href="#" onclick="inputSwitchPage()">跳转</a></li>
                    <li ><input type="text" class="text-center inputText" maxlength="4" style="width:50px; height:34px;" id="pageNumber"></li>
                    <li class="showLi">每页显示:</li>
                    <li class="selectLi">
                        <select id="count" onchange="loadPageWayBillList()">
                            <option>5</option>
                            <option selected>15</option>
                            <option>50</option>
                        </select>
                    </li>
                </ol>
            </nav>
        </div>
    </div>

    <!--新增模态框-->
    <div class="modal fade" id="newAddModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span
                            aria-hidden="true">&times;</span></button>
                    <h4 class="modal-title" id="newAdd">新增</h4>
                </div>
                <div class="modal-body">
                    <p style="display: inline" class=""><b>审批流编号：</b><input class="id" type="number" title="" onkeyup="setApprovalId(this)"></p>
                    <p style="display: inline" class="pull-right"><b>审批流类型：</b><input class="type" title=""></p>
                    <table class="table table-bordered">
                        <thead>
                        <tr>
                            <th>审批节点编号</th>
                            <th>角色</th>
                            <th>父节点编号</th>
                        </tr>
                        </thead>
                        <tbody >
                        <tr id="cloneTr4" class="myclass3" hidden>
                            <td><input title="" class="form-control" name="id" onkeyup="changeApprovalPId(this)"></td>
                            <td><select title="" class="form-control" name="role" ></select></td>
                            <td><span title="" class="form-control" name="approvalPId" ></span></td>
                        </tr>
                        <tr id="add_plus">
                            <td>
                                <a class="btn btn-default btn-xs" onclick="addNewLine(this);"><span class="glyphicon glyphicon-plus" aria-hidden="true"></span></a>
                            </td>
                            <td></td>
                            <td></td>
                        </tr>
                        </tbody>
                    </table>
                </div>
                <div class="modal-footer center">
                    <button type="button" class="btn btn-success" onclick="saveNewApproval()">保存</button>
                    <button type="button" class="btn btn-danger" data-dismiss="modal">关闭</button>
                </div>
            </div>
        </div>
    </div>
    <!--编辑模态框-->
    <div class="modal fade" id="editModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span
                            aria-hidden="true">&times;</span></button>
                    <h4 class="modal-title" id="TitleMyModalLabel">编辑</h4>
                </div>
                <div class="modal-body">
                    <p><b>审批流类型：</b><input id="edit_type" title=""></p>
                    <table class="table table-bordered">
                        <thead>
                        <tr>
                            <th>审批节点编号</th>
                            <th>角色</th>
                            <th>父节点编号</th>
                        </tr>
                        </thead>
                        <tbody id="edit_tBody">
                        <tr class="edit_class" id="cloneTr1">
                            <td><input title="" class="form-control" name="id" onkeyup="changeApprovalPId(this)"></td>
                            <td><select title="" class="form-control" name="role" ></select></td>
                            <td><span title="" class="form-control" name="approvalPId" ></span></td>
                        </tr>
                        <tr id="edit_plus">
                            <td>
                                <a class="btn btn-default btn-xs" onclick="addNewLine(this);"><span class="glyphicon glyphicon-plus" aria-hidden="true"></span></a>
                            </td>
                            <td></td>
                            <td></td>
                        </tr>
                        </tbody>
                    </table>
                </div>
                <div class="modal-footer center">
                    <button type="button" class="btn btn-success" onclick="saveModifyData();">保存</button>
                    <button type="button" class="btn btn-default" data-dismiss="modal">关闭</button>
                </div>
            </div>
        </div>
    </div>
    <!--链接模态框-->
    <div class="modal fade" id="hrefModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span
                            aria-hidden="true">&times;</span></button>
                    <h4 class="modal-title" id="hrefManage">连接配置</h4>
                </div>
                <div class="modal-body">
                    <div class="table">
                        <table class="table table-striped table-hover table-condensed">
                            <thead>
                            <tr>
                                <th class="text-center">
                                    <label>
                                        <input class="checkbox" type="checkbox" value="option1" aria-label="..." name="allSel1" id="allSel1" onclick="allSelect1()">
                                    </label>
                                </th>
                                <th class="text-center">页面名称</th>
                                <th class="text-center">链接</th>
                            </tr>
                            </thead>
                            <tbody id="hrefTBody">
                            <tr>
                                <td class="text-center">
                                    <label>
                                        <input name="select1" class="checkbox" type="checkbox" id="blankCheckbox1" value="option1" aria-label="...">
                                    </label>
                                </td>
                                <td class="text-center" name="name"></td>
                                <td class="text-center" name="url"></td>
                            </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
                <div class="modal-footer center">
                    <button type="button" class="btn btn-success" onclick="saveHref();">保存</button>
                    <button type="button" class="btn btn-default" data-dismiss="modal">关闭</button>
                </div>
            </div>
        </div>
    </div>
</body>
<!--分页格式-->
<style type="text/css">
    .pagination > li {
        display: inline;
    }
    table th, table td {
        vertical-align: middle!important;
    }
</style>

</html>